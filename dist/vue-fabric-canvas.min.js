!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fabric-canvas"]=e():t["vue-fabric-canvas"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=19)}([function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(23),__esModule:!0}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e,n,o,i,r){var c,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(c=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i);var l;if(r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):o&&(l=o),l){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(t,e){return l.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:c,exports:a,options:u}}},function(t,e,n){"use strict";var o=n(8),i=n.n(o),r=n(2),c=n.n(r),a=n(48),s=n(56),u=(n(17),n(18));e.a={name:"FabricCanvas",components:{fabricbak:a.a},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},boxWidth:{type:Number,required:!0},boxHeight:{type:Number,required:!0},stepLengthp:{type:Number,default:50}},data:function(){return{name:"canvas",canvas:null,canvasZoom:1,zoomChange:1,xScale:[],yScale:[],xLeft:0,yTop:0,stepLength:this.stepLengthp}},mounted:function(){var t=this;Object(s.a)(document.getElementById("content"),"mousewheel",this.show),Object(s.a)(document.getElementById("content"),"scroll",this.show),Object(s.a)(document.getElementById("yZhou"),"mousewheel",this.yshow),Object(s.a)(document.getElementById("yZhou"),"scroll",this.yshow),Object(s.a)(document.getElementById("xZhou"),"mousewheel",this.yshow),Object(s.a)(document.getElementById("xZhou"),"scroll",this.yshow);document.onkeydown=function(e){console.log("keyCode:",window.event.keyCode),event.shiftKey&&107===window.event.keyCode?(console.log("画布放大"),t.ChangeZoom(1)):event.shiftKey&&109===window.event.keyCode&&(console.log("画布缩小"),t.ChangeZoom(0))},document.onkeyup=function(t){},this.scaleCalc(),this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var e=this.canvas;fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzBBQTBGQ0Y4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzBBQTBGREY4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MEFBMEZBRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MEFBMEZCRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QUJwRwAAAytJREFUeNrsVk1oGkEUXqVIqCRIhVICEsSTkFuwEPDaWiQ9NaQx6VGRaqCHQATBEFMKKUoLos0h4LV4aWxCbyqhEbx4CJJCwJMJRKVWxJ/EkJ/X9yabZd2oay+hhX7wsbPz3sybmTfv21UAAHdXUHJ3iL8rmEKh0CHdyASyhAQRC8gQ0izyNyCD9Lw1GeWsFxFvdDoduN1uSCQSUCqVQIxCoQChUAjMZjM5B5DTw8PDEAwG6f3Trfl6BFEgQzMzM3BwcAByaDabYLPZYHR0FJLJJOu73sdgwd65XC44Pz8XJjw+PoZYLAZ+vx+8Xi/b6enpqWBvtVqwu7vL2u12myZpywZDOCcnJ6FarbKBV1dXEI1GwWg0gkqlIgc/0qtWq2FiYgI2NjagVqt17LRer5NfvW8wxH0E7O3tCQMXFxfJEEWakCqRrxr5lBaQyWQ6gjUaDXJoyAV7gYDLy0s2iJJPiaZFdDmBRyMjI7C5udk1h2hvygX7jGADTk5OgG4i9hlFditym6ef8tcL3S7IPUklPEawRjqd5orFIjXzfP08M5lM35aXl5l9dXV1amtri8tms5xU8s7Ozuix3rfOEL8QbGWBQIDVjsj2FSGsnNrUh3yOnJLwSbdbLt3ZT8QDxM2uiiIbXR7xC8fncpvf+cOhoaGywWDgsNjpfRxtP/rJVZEPwlFAeohs67hbLpVKMVJbclSvPR4Pt7+/z62trbF3uWP8gmDHdHh4CBqNhjo1Ivs0MslzWtSvo8uEC2VjMd/UmZa7ja8QcHFxwQYtLS1R50cZ/SRpC66srAj59Pl8ZPANoiDfEYLszM3NUecHpFbiRykYR0ZI2kiuCEdHR6DX68lBP0gwm8ViYZJDIP1bWFgArVZ7o+x2pEupVMLY2BhEIhEmaQQSg/n5efLzdj2FHkfzfnZ2FiqVinA0+XyelYPdbgfaCWliuVzuUA2n00mDwz2PvE8u3mKBQzwel/3E7OzsAJ2GuC7/KBgf0IKMW61WCIfDkMvlmMiiQrCvApYAOBwO9tVGv5f95pINJtHEMDJHak6KhKwiU0gH3chB5lH8/5X754L9FmAAxKqp09gZRrsAAAAASUVORK5CYII=) 12 12, auto",e.backgroundColor="#ffffff",e.selection=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}});var n=0,o=0;this.canvas.controlsAboveOverlay=!1,this.canvas.skipOffscreen=!0,this.canvas.preserveObjectStacking=!0,this.canvas.on("selection:created",function(e){t.$emit("selection:created",e)}),this.canvas.on("mouse:down",function(e){t.$emit("mouse:down",e)}),this.canvas.on("mouse:up",function(e){t.$emit("mouse:up",e)}),this.canvas.on("mouse:move",function(e){t.$emit("mouse:move",e)}),this.canvas.on("mouse:dblclick",function(e){t.$emit("mouse:dblclick",e)}),this.canvas.on("mouse:over",function(e){t.$emit("mouse:over",e)}),this.canvas.on("mouse:out",function(e){t.$emit("mouse:out",e)}),this.canvas.on("object:added",function(e){t.$emit("object:added",e)}),this.canvas.on("object:removed",function(e){t.$emit("object:removed",e)}),this.canvas.on("object:moved",function(e){t.$emit("object:moved",e),"component"===e.target.name&&"Rect"===e.target.isType&&(e.target.set("left",parseInt(e.target.left)),e.target.set("top",parseInt(e.target.top)))}),this.canvas.on("object:modified",function(e){t.$emit("object:modified",e),n=e.target.top,o=e.target.left}),this.canvas.on("object:rotating",function(e){t.$emit("object:rotating",e),"component"===e.target.name&&"Rect"===e.target.isType&&e.target.set("angle",parseInt(e.target.angle))}),this.canvas.on("object:scaling",function(e){t.$emit("object:scaling",e)}),this.canvas.on("object:scaled",function(e){t.$emit("object:scaled",e),"component"===e.target.name&&"Rect"===e.target.isType&&(e.target.set("width",parseInt(e.target.width*e.target.scaleX)),e.target.set("height",parseInt(e.target.height*e.target.scaleY)),e.target.set("scaleX",1),e.target.set("scaleY",1))}),this.canvas.on("object:selected",function(e){t.$emit("object:selected",e),console.log(e.target.width,e.target.height,e.target.angle,e.target.left,e.target.top)}),this.canvas.on("object:moving",function(e){t.$emit("object:moving",e),"component"===e.target.name&&"Rect"===e.target.isType&&e.transform.shiftKey&&(Math.abs(e.target.left-o)>Math.abs(e.target.top-n)?e.target.set("top",n):e.target.set("left",o))}),this.canvas.on("selection:updated",function(e){t.$emit("selection:updated",e)}),this.canvas.on("selection:changed",function(e){t.$emit("selection:changed",e)}),this.canvas.on("selection:cleared",function(e){t.$emit("selection:cleared",e)}),this.canvas.on("before:selection:cleared",function(e){t.$emit("before:selection:cleared",e)}),this.canvas.on("text:changed",function(e){t.$emit("text:changed",e)}),this.canvas.on("text:editing:entered",function(e){t.$emit("text:editing:entered",e)}),this.canvas.on("before:render"),this.canvas.on("after:render"),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),Object(u.a)(e)},methods:{show:function(t){document.getElementById("yZhou").scrollTop=document.getElementById("content").scrollTop,document.getElementById("xZhou").scrollLeft=document.getElementById("content").scrollLeft},yshow:function(t){document.getElementById("content").scrollTop=document.getElementById("yZhou").scrollTop,document.getElementById("content").scrollLeft=document.getElementById("xZhou").scrollLeft},scaleCalc:function(){this.xScale=this.getCalc(this.xScale,this.width*this.canvasZoom,"x"),this.yScale=this.getCalc(this.yScale,this.height*this.canvasZoom,"y")},getCalc:function(t,e,n){if(t=[],"x"===n)for(var o=this.xLeft;o<e*this.stepLength/50;o+=this.stepLength)o%this.stepLength==0&&t.push({id:o});else if("y"===n)for(var i=this.yTop;i<e*this.stepLength/50;i+=this.stepLength)i%this.stepLength==0&&t.push({id:i});else for(var r=0;r<e*this.stepLength/50;r+=this.stepLength)r%this.stepLength==0&&t.push({id:r});return t},setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject();if(t._objects){this.canvas.discardActiveObject();for(var e in t._objects)this.canvas.remove(t._objects[e])}else this.canvas.remove(t);this.canvas.renderAll()},removecurrentObj:function(){var t=this.canvas.getActiveObject();this.canvas.remove(t)},removeObj:function(t){this.canvas.remove(t)},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){this.canvas.setZoom(t),this.canvas.renderAll()},ChangeZoom:function(t){this.canvasZoom=this.canvas.getZoom(),1===t?(this.canvas.setZoom(this.canvasZoom+.1),this.zoomChange=this.zoomChange+1,this.zoomChange>5&&(this.zoomChange=1,this.stepLength=parseInt(100/(2*(this.canvasZoom+.1)).toFixed(2))),this.canvas.renderAll()):0===t&&(this.canvas.setZoom(this.canvasZoom-.1),this.zoomChange=this.zoomChange-1,this.zoomChange<-5&&(this.zoomChange=1,this.stepLength=parseInt(100/(2*(this.canvasZoom-.1)).toFixed(2))),this.canvas.renderAll()),this.scaleCalc()},setbackground:function(t){this.canvas.backgroundColor=t,this.canvas.renderAll()},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.discardActiveGroup(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},createRect:function(t){t=c()({width:50,height:30,left:50,top:50,padding:0,angle:0,scaleX:1,scaleY:1},t);var e=new fabric.Rect(i()({},t,{name:"component",isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fillColor?t.fillColor:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"rgba(0,0,0,0)",stroke:t.bordersColor?t.bordersColor:"rgba(0,0,0,0)",strokeWidth:t.bordersWidth?t.bordersWidth:0,strokeDashArray:t.bordersStyle?t.bordersStyle:[0,0],borderDashArray:[8,2],borderColor:"#999",cornerColor:"#999",cornerStrokeColor:"#999",cornerFillColor:"#eee",minScaleLimit:1e-4,lockScalingFlip:!0,flipX:!1,flipY:!1,originX:"left",originY:"top",centeredRotation:!1,stopContextMenu:!0}));return this.canvas.add(e),this.canvas.renderAll(),e},createCircle:function(t){t=c()({left:0,top:0,radius:30,fillColor:"rgba(255, 255, 255, 0)",color:"#B2B2B2",drawWidth:2},t);var e=i()({},t,{fill:t.fillColor,strokeWidth:t.drawWidth,stroke:t.color}),n=new fabric.Circle(e);this.canvas.add(n),this.canvas.renderAll()},createText:function(t,e){e=c()({left:100,top:100},e);var n=new fabric.Text(t,i()({},e));this.canvas.add(n),this.canvas.renderAll()}}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(2),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e,n){var o=n(3),i=n(1),r=n(25),c=n(27),a=n(11),s=function(t,e,n){var u,l,f,d=t&s.F,h=t&s.G,v=t&s.S,b=t&s.P,m=t&s.B,g=t&s.W,p=h?i:i[e]||(i[e]={}),y=p.prototype,j=h?o:v?o[e]:(o[e]||{}).prototype;h&&(n=e);for(u in n)(l=!d&&j&&void 0!==j[u])&&a(p,u)||(f=l?j[u]:n[u],p[u]=h&&"function"!=typeof j[u]?n[u]:m&&l?r(f,o):g&&j[u]==f?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):b&&"function"==typeof f?r(Function.call,f):f,b&&((p.virtual||(p.virtual={}))[u]=f,t&s.R&&y&&!y[u]&&c(y,u,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var o=n(28),i=n(29),r=n(31),c=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(13),i=n(14);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){"use strict";var o=n(8),i=n.n(o),r=n(2),c=n.n(r),a=(n(17),n(18));e.a={name:"VueFabric",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},data:function(){return{name:"canvas",canvas:null}},created:function(){},beforeMount:function(){},mounted:function(){this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var t=this.canvas;console.log(t),fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzBBQTBGQ0Y4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzBBQTBGREY4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MEFBMEZBRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MEFBMEZCRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QUJwRwAAAytJREFUeNrsVk1oGkEUXqVIqCRIhVICEsSTkFuwEPDaWiQ9NaQx6VGRaqCHQATBEFMKKUoLos0h4LV4aWxCbyqhEbx4CJJCwJMJRKVWxJ/EkJ/X9yabZd2oay+hhX7wsbPz3sybmTfv21UAAHdXUHJ3iL8rmEKh0CHdyASyhAQRC8gQ0izyNyCD9Lw1GeWsFxFvdDoduN1uSCQSUCqVQIxCoQChUAjMZjM5B5DTw8PDEAwG6f3Trfl6BFEgQzMzM3BwcAByaDabYLPZYHR0FJLJJOu73sdgwd65XC44Pz8XJjw+PoZYLAZ+vx+8Xi/b6enpqWBvtVqwu7vL2u12myZpywZDOCcnJ6FarbKBV1dXEI1GwWg0gkqlIgc/0qtWq2FiYgI2NjagVqt17LRer5NfvW8wxH0E7O3tCQMXFxfJEEWakCqRrxr5lBaQyWQ6gjUaDXJoyAV7gYDLy0s2iJJPiaZFdDmBRyMjI7C5udk1h2hvygX7jGADTk5OgG4i9hlFditym6ef8tcL3S7IPUklPEawRjqd5orFIjXzfP08M5lM35aXl5l9dXV1amtri8tms5xU8s7Ozuix3rfOEL8QbGWBQIDVjsj2FSGsnNrUh3yOnJLwSbdbLt3ZT8QDxM2uiiIbXR7xC8fncpvf+cOhoaGywWDgsNjpfRxtP/rJVZEPwlFAeohs67hbLpVKMVJbclSvPR4Pt7+/z62trbF3uWP8gmDHdHh4CBqNhjo1Ivs0MslzWtSvo8uEC2VjMd/UmZa7ja8QcHFxwQYtLS1R50cZ/SRpC66srAj59Pl8ZPANoiDfEYLszM3NUecHpFbiRykYR0ZI2kiuCEdHR6DX68lBP0gwm8ViYZJDIP1bWFgArVZ7o+x2pEupVMLY2BhEIhEmaQQSg/n5efLzdj2FHkfzfnZ2FiqVinA0+XyelYPdbgfaCWliuVzuUA2n00mDwz2PvE8u3mKBQzwel/3E7OzsAJ2GuC7/KBgf0IKMW61WCIfDkMvlmMiiQrCvApYAOBwO9tVGv5f95pINJtHEMDJHak6KhKwiU0gH3chB5lH8/5X754L9FmAAxKqp09gZRrsAAAAASUVORK5CYII=) 12 12, auto",t.backgroundColor="#ffffff",t.selection=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}});var e=this;this.canvas.controlsAboveOverlay=!1,this.canvas.skipOffscreen=!0,this.canvas.preserveObjectStacking=!0,this.canvas.on("selection:created",function(t){e.$emit("selection:created",t)}),this.canvas.on("mouse:down",function(t){e.$emit("mouse:down",t)}),this.canvas.on("mouse:up",function(t){e.$emit("mouse:up",t)}),this.canvas.on("mouse:move",function(t){e.$emit("mouse:move",t)}),this.canvas.on("mouse:dblclick",function(t){e.$emit("mouse:dblclick",t)}),this.canvas.on("mouse:over",function(t){e.$emit("mouse:over",t)}),this.canvas.on("mouse:out",function(t){e.$emit("mouse:out",t)}),this.canvas.on("object:added",function(t){e.$emit("object:added",t)}),this.canvas.on("object:removed",function(t){e.$emit("object:removed",t)}),this.canvas.on("object:moved",function(t){e.$emit("object:moved",t)}),this.canvas.on("object:modified",function(t){e.$emit("object:modified",t)}),this.canvas.on("object:rotating",function(t){e.$emit("object:rotating",t)}),this.canvas.on("object:scaling",function(t){e.$emit("object:scaling",t)}),this.canvas.on("object:scaled",function(t){e.$emit("object:scaled",t)}),this.canvas.on("object:selected",function(t){e.$emit("object:selected",t)}),this.canvas.on("object:moving",function(t){e.$emit("object:moving",t)}),this.canvas.on("selection:updated",function(t){e.$emit("selection:updated",t)}),this.canvas.on("selection:changed",function(t){e.$emit("selection:changed",t)}),this.canvas.on("selection:cleared",function(t){e.$emit("selection:cleared",t)}),this.canvas.on("before:selection:cleared",function(t){e.$emit("before:selection:cleared",t)}),this.canvas.on("text:changed",function(t){e.$emit("text:changed",t)}),this.canvas.on("text:editing:entered",function(t){e.$emit("text:editing:entered",t)}),this.canvas.on("before:render"),this.canvas.on("after:render"),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),Object(a.a)(t)},methods:{setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject();if(t._objects){this.canvas.discardActiveObject();for(var e in t._objects)this.canvas.remove(t._objects[e])}else this.canvas.remove(t);this.canvas.renderAll()},removecurrentObj:function(){var t=this.canvas.getActiveObject();this.canvas.remove(t)},removeObj:function(t){this.canvas.remove(t)},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){this.canvas.setZoom(t),this.canvas.renderAll()},setbackground:function(t){this.canvas.backgroundColor=t,this.canvas.renderAll()},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.discardActiveGroup(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},createRect:function(t){t=c()({width:50,height:30,left:50,top:50,padding:0,angle:0,scaleX:1,scaleY:1},t);var e=new fabric.Rect(i()({},t,{isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fillColor?t.fillColor:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"rgba(0,0,0,0)",stroke:t.bordersColor?t.bordersColor:"rgba(0,0,0,0)",strokeWidth:t.bordersWidth?t.bordersWidth:0,strokeDashArray:t.bordersStyle?t.bordersStyle:[0,0],borderDashArray:[8,2],borderColor:"#999",cornerColor:"#999",cornerStrokeColor:"#999",cornerFillColor:"#eee",minScaleLimit:1e-4,lockScalingFlip:!0,flipX:!1,flipY:!1,originX:"left",originY:"top",centeredRotation:!1,stopContextMenu:!0}));return this.canvas.add(e),this.canvas.renderAll(),e},createCircle:function(t){t=c()({left:0,top:0,radius:30,fillColor:"rgba(255, 255, 255, 0)",color:"#B2B2B2",drawWidth:2},t);var e=i()({},t,{fill:t.fillColor,strokeWidth:t.drawWidth,stroke:t.color}),n=new fabric.Circle(e);this.canvas.add(n),this.canvas.renderAll()},createText:function(t,e){e=c()({left:100,top:100},e);var n=new fabric.Text(t,i()({},e));this.canvas.add(n),this.canvas.renderAll()}}}},function(t,e,n){"use strict";var o=n(50),i=n.n(o),r=n(51),c=n.n(r),a=function(){function t(){i()(this,t)}return c()(t,[{key:"registeObjectEvent",value:function(t,e){console.log("registeObjectEvent"),e.on("mousedown",function(n){t.$emit("object:mousedown",e,n)}),e.on("mouseup",function(n){t.$emit("object:mouseup",e,n)}),e.on("mousemove",function(n){t.$emit("object:mousemove",e,n)}),e.on("mouseover",function(n){t.$emit("object:mouseover",e,n)}),e.on("mouseout",function(n){t.$emit("object:mouseout",e,n)}),e.on("mousedblclick",function(n){t.$emit("object:mousedblclick",e,n)}),e.on("mousewheel",function(n){t.$emit("object:mousewheel",e,n)})}}]),t}();new a},function(t,e,n){"use strict";function o(t){function e(t){o(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}function n(t){o(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}function o(t,e,n,o){c.save(),c.lineWidth=s,c.strokeStyle=u,c.setLineDash([5,1]),c.beginPath(),c.moveTo((t+r[4])*l,(e+r[5])*l),c.lineTo((n+r[4])*l,(o+r[5])*l),c.stroke(),c.restore()}function i(t,e){t=Math.round(t),e=Math.round(e);for(var n=t-a,o=t+a;n<=o;n++)if(n===e)return!0;return!1}var r,c=t.getSelectionContext(),a=5,s=1,u="rgb(0,0,0,0.6)",l=1,f=[],d=[];t.on("mouse:down",function(){r=t.viewportTransform,l=t.getZoom()}),t.on("object:moving",function(e){var n=e.target,o=t.getObjects(),c=n.getCenterPoint(),a=c.x,s=c.y,u=n.getBoundingRect(),l=u.height/r[3],h=u.width/r[0],v=!1,b=!1;if(t._currentTransform){for(var m=o.length;m--;)if(o[m]!==n){var g=o[m].getCenterPoint(),p=g.x,y=g.y,j=o[m].getBoundingRect(),A=j.height/r[3],w=j.width/r[0];i(p,a)&&(b=!0,f.push({x:p,y1:y<s?y-A/2-5:y+A/2+5,y2:s>y?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(p,s),"center","center")),i(p-w/2,a-h/2)&&(b=!0,f.push({x:p-w/2,y1:y<s?y-A/2-5:y+A/2+5,y2:s>y?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(p-w/2+h/2,s),"center","center")),i(p+w/2,a+h/2)&&(b=!0,f.push({x:p+w/2,y1:y<s?y-A/2-5:y+A/2+5,y2:s>y?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(p+w/2-h/2,s),"center","center")),i(y,s)&&(v=!0,d.push({y:y,x1:p<a?p-w/2-5:p+w/2+5,x2:a>p?a+h/2+5:a-h/2-5}),n.setPositionByOrigin(new fabric.Point(a,y),"center","center")),i(y-A/2,s-l/2)&&(v=!0,d.push({y:y-A/2,x1:p<a?p-w/2-5:p+w/2+5,x2:a>p?a+h/2+5:a-h/2-5}),n.setPositionByOrigin(new fabric.Point(a,y-A/2+l/2),"center","center")),i(y+A/2,s+l/2)&&(v=!0,d.push({y:y+A/2,x1:p<a?p-w/2-5:p+w/2+5,x2:a>p?a+h/2+5:a-h/2-5}),n.setPositionByOrigin(new fabric.Point(a,y+A/2-l/2),"center","center"))}v||(d.length=0),b||(f.length=0)}}),t.on("before:render",function(){void 0!==t._target&&t.clearContext(t.contextTop)}),t.on("after:render",function(){for(var t=f.length;t--;)e(f[t]);for(var t=d.length;t--;)n(d[t]);f.length=d.length=0}),t.on("mouse:up",function(){f.length=d.length=0,t.renderAll()})}e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(20);n.d(e,"FabricCanvas",function(){return o.a})},function(t,e,n){"use strict";var o=n(21),i={install:function(t){t.component(o.a.name,o.a)}};e.a=i},function(t,e,n){"use strict";function o(t){n(22)}var i=n(7),r=n(57),c=n(6),a=o,s=c(i.a,r.a,!1,a,"data-v-1da17868",null);e.a=s.exports},function(t,e){},function(t,e,n){n(24),t.exports=n(1).Object.assign},function(t,e,n){var o=n(9);o(o.S+o.F,"Object",{assign:n(33)})},function(t,e,n){var o=n(26);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(10),i=n(32);t.exports=n(0)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(4);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(0)&&!n(5)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(4),i=n(3).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){var o=n(4);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(0),i=n(34),r=n(45),c=n(46),a=n(47),s=n(13),u=Object.assign;t.exports=!u||n(5)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,l=1,f=r.f,d=c.f;u>l;)for(var h,v=s(arguments[l++]),b=f?i(v).concat(f(v)):i(v),m=b.length,g=0;m>g;)h=b[g++],o&&!d.call(v,h)||(n[h]=v[h]);return n}:u},function(t,e,n){var o=n(35),i=n(44);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){var o=n(11),i=n(12),r=n(37)(!1),c=n(40)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),s=0,u=[];for(n in a)n!=c&&o(a,n)&&u.push(n);for(;e.length>s;)o(a,n=e[s++])&&(~r(u,n)||u.push(n));return u}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(12),i=n(38),r=n(39);t.exports=function(t){return function(e,n,c){var a,s=o(e),u=i(s.length),l=r(c,u);if(t&&n!=n){for(;u>l;)if((a=s[l++])!=a)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var o=n(15),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(15),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(41)("keys"),i=n(43);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(1),i=n(3),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(42)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(14);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";function o(t){n(49)}var i=n(16),r=n(55),c=n(6),a=o,s=c(i.a,r.a,!1,a,"data-v-045316d8",null);e.a=s.exports},function(t,e){},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(52),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){t.exports={default:n(53),__esModule:!0}},function(t,e,n){n(54);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(9);o(o.S+o.F*!n(0),"Object",{defineProperty:n(10).f})},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.name)+":"+t._s(t.width)+"*"+t._s(t.height))]),t._v(" "),n("canvas",{attrs:{id:"canvas",width:t.width,height:t.height}})])},i=[],r={render:o,staticRenderFns:i};e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}();!function(){document.removeEventListener}()},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bigbox"},[n("div",{staticClass:"content",style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;",attrs:{id:"content"}},[n("div",{staticClass:"xZhou",style:"width: "+(t.boxWidth-35)+"px;",attrs:{id:"xZhou"}},[n("div",{staticClass:"x-line",style:"width: "+t.width*t.canvasZoom+"px;"},t._l(t.xScale,function(e,o){return n("span",{key:o,staticClass:"number",style:{left:50*o+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"yZhou",style:"height: "+(t.boxHeight-35)+"px;",attrs:{id:"yZhou"}},[n("div",{staticClass:"y-line",style:"height:"+t.height*t.canvasZoom+"px; "},t._l(t.yScale,function(e,o){return n("span",{key:o,staticClass:"number",style:{top:50*o+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"black",staticStyle:{position:"absolute",top:"18px",left:"18px"}},[n("div",{staticClass:"yellow",style:"width: "+t.width*t.canvasZoom+"px;height:"+t.height*t.canvasZoom+"px; "},[n("div",{staticClass:"title"},[t._v(t._s(t.name)+":"+t._s(t.width)+"*"+t._s(t.height))]),t._v(" "),n("canvas",{attrs:{id:"canvas",width:t.width,height:t.height}})])])])])},i=[],r={render:o,staticRenderFns:i};e.a=r}])});