!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fabric-canvas"]=e():t["vue-fabric-canvas"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=14)}([function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var o=n(19),i=n.n(o),r=n(6),s=n.n(r),c=n(45),a=(n(46),n(52));e.a={name:"FabricCanvas",components:{},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},boxWidth:{type:Number,required:!0},boxHeight:{type:Number,required:!0},stepLengthp:{type:Number,default:50},showRuler:{type:Array,default:function(){return[!0,!0]}}},data:function(){return{name:"canvas",canvas:null,canvasZoom:1,xScale:[],yScale:[],xLeft:0,yTop:0,stepLength:this.stepLengthp,showXzhou:this.showRuler[0],showYzhou:this.showRuler[1],rulertop:0,rulerleft:0}},directives:{drag:{inserted:function(t,e,n){n=n.elm,t.dragstart=function(t){console.log("drag 0"),t.preventDefault(),document.onmousemove=document.onmouseup=null},t.ondrag=function(t){return console.log("drag 1"),t.preventDefault(),document.onmousemove=document.onmouseup=null,!1},t.onmousedown=function(t){var e=!0;if("scrollx"!==t.target.id&&"scrolly"!==t.target.id)return void(e=!1);var o=t.clientX-n.offsetLeft,i=t.clientY-n.offsetTop,r=null;"scrollx"===t.target.id?r="x":"scrolly"===t.target.id&&(r="y"),document.onmousemove=function(t){var s=void 0,c=void 0;if(s=t.clientX-o,c=t.clientY-i,"x"===r){if(t.clientY<i-50||t.clientY>i+50)return void(e=!1);if(e){var a=n.parentNode.offsetWidth-8-50;s<=18?s=18:s>=a&&(s=a),n.style.left=s+"px";var u=document.getElementById("canvas").offsetWidth-document.getElementById("content").offsetWidth+30,l=u*((s-18)/(a-18));document.getElementById("content").scrollLeft=document.getElementById("xZhou").scrollLeft=l}}else{if(t.clientX<o-50||t.clientX>o+50)return void(e=!1);if(e){var h=n.parentNode.offsetHeight-8-50;c<=18?c=18:c>=h&&(c=h),n.style.top=c+"px";var f=document.getElementById("canvas").offsetHeight-document.getElementById("content").offsetHeight+30,d=f*((c-18)/(h-18));document.getElementById("content").scrollTop=document.getElementById("yZhou").scrollTop=d}}},document.onmouseup=function(t){e=!1,document.onmousemove=document.onmouseup=null}}}}},mounted:function(){var t=this;window.onresize=function(){t.rulertop=window.pageYOffset,t.rulerleft=window.pageYOffset,console.log(document.getElementById("content").offsetTop,document.documentElement.scrollTop,window.pageYOffset)};var e=this;Object(c.a)(document.getElementById("content"),"mousewheel",this.show),Object(c.a)(document.getElementById("content"),"scroll",this.show),Object(c.a)(document.getElementById("yZhou"),"mousewheel",this.yshow),Object(c.a)(document.getElementById("yZhou"),"scroll",this.yshow),Object(c.a)(document.getElementById("xZhou"),"mousewheel",this.yshow),Object(c.a)(document.getElementById("xZhou"),"scroll",this.yshow);document.onkeydown=function(t){console.log("keyCode:",window.event.keyCode),event.shiftKey&&107===window.event.keyCode?e.ChangeZoom(1):event.shiftKey&&109===window.event.keyCode&&e.ChangeZoom(0)},document.onkeyup=function(t){},this.scaleCalc(),this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var n=this.canvas;fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzBBQTBGQ0Y4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzBBQTBGREY4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MEFBMEZBRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MEFBMEZCRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QUJwRwAAAytJREFUeNrsVk1oGkEUXqVIqCRIhVICEsSTkFuwEPDaWiQ9NaQx6VGRaqCHQATBEFMKKUoLos0h4LV4aWxCbyqhEbx4CJJCwJMJRKVWxJ/EkJ/X9yabZd2oay+hhX7wsbPz3sybmTfv21UAAHdXUHJ3iL8rmEKh0CHdyASyhAQRC8gQ0izyNyCD9Lw1GeWsFxFvdDoduN1uSCQSUCqVQIxCoQChUAjMZjM5B5DTw8PDEAwG6f3Trfl6BFEgQzMzM3BwcAByaDabYLPZYHR0FJLJJOu73sdgwd65XC44Pz8XJjw+PoZYLAZ+vx+8Xi/b6enpqWBvtVqwu7vL2u12myZpywZDOCcnJ6FarbKBV1dXEI1GwWg0gkqlIgc/0qtWq2FiYgI2NjagVqt17LRer5NfvW8wxH0E7O3tCQMXFxfJEEWakCqRrxr5lBaQyWQ6gjUaDXJoyAV7gYDLy0s2iJJPiaZFdDmBRyMjI7C5udk1h2hvygX7jGADTk5OgG4i9hlFditym6ef8tcL3S7IPUklPEawRjqd5orFIjXzfP08M5lM35aXl5l9dXV1amtri8tms5xU8s7Ozuix3rfOEL8QbGWBQIDVjsj2FSGsnNrUh3yOnJLwSbdbLt3ZT8QDxM2uiiIbXR7xC8fncpvf+cOhoaGywWDgsNjpfRxtP/rJVZEPwlFAeohs67hbLpVKMVJbclSvPR4Pt7+/z62trbF3uWP8gmDHdHh4CBqNhjo1Ivs0MslzWtSvo8uEC2VjMd/UmZa7ja8QcHFxwQYtLS1R50cZ/SRpC66srAj59Pl8ZPANoiDfEYLszM3NUecHpFbiRykYR0ZI2kiuCEdHR6DX68lBP0gwm8ViYZJDIP1bWFgArVZ7o+x2pEupVMLY2BhEIhEmaQQSg/n5efLzdj2FHkfzfnZ2FiqVinA0+XyelYPdbgfaCWliuVzuUA2n00mDwz2PvE8u3mKBQzwel/3E7OzsAJ2GuC7/KBgf0IKMW61WCIfDkMvlmMiiQrCvApYAOBwO9tVGv5f95pINJtHEMDJHak6KhKwiU0gH3chB5lH8/5X754L9FmAAxKqp09gZRrsAAAAASUVORK5CYII=) 12 12, auto",n.backgroundColor="#ffffff",n.selection=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}});var o=0,i=0;this.canvas.controlsAboveOverlay=!1,this.canvas.skipOffscreen=!0,this.canvas.preserveObjectStacking=!0,this.canvas.on("selection:created",function(t){e.$emit("selection:created",t)}),this.canvas.on("mouse:down",function(t){e.$emit("mouse:down",t)}),this.canvas.on("mouse:up",function(t){e.$emit("mouse:up",t)}),this.canvas.on("mouse:move",function(t){e.$emit("mouse:move",t)}),this.canvas.on("mouse:dblclick",function(t){e.$emit("mouse:dblclick",t)}),this.canvas.on("mouse:over",function(t){e.$emit("mouse:over",t)}),this.canvas.on("mouse:out",function(t){e.$emit("mouse:out",t)}),this.canvas.on("object:added",function(t){e.$emit("object:added",t)}),this.canvas.on("object:removed",function(t){e.$emit("object:removed",t)}),this.canvas.on("object:moved",function(t){e.$emit("object:moved",t),"component"===t.target.component&&"Rect"===t.target.isType&&(t.target.set("left",parseInt(t.target.left)),t.target.set("top",parseInt(t.target.top)))}),this.canvas.on("object:modified",function(t){console.log("modified",t.target),e.$emit("object:modified",t),o=t.target.top,i=t.target.left}),this.canvas.on("object:rotating",function(t){e.$emit("object:rotating",t),"component"===t.target.component&&"Rect"===t.target.isType&&t.target.set("angle",parseInt(t.target.angle))}),this.canvas.on("object:scaling",function(t){e.$emit("object:scaling",t)}),this.canvas.on("object:scaled",function(t){e.$emit("object:scaled",t),"component"===t.target.component&&"Rect"===t.target.isType&&(t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1))}),this.canvas.on("object:selected",function(t){e.$emit("object:selected",t),console.log(t.target.width,t.target.height,t.target.angle,t.target.left,t.target.top)}),this.canvas.on("object:moving",function(t){e.$emit("object:moving",t),"component"===t.target.component&&"Rect"===t.target.isType&&t.transform.shiftKey&&(Math.abs(t.target.left-i)>Math.abs(t.target.top-o)?t.target.set("top",o):t.target.set("left",i))}),this.canvas.on("selection:updated",function(t){e.$emit("selection:updated",t)}),this.canvas.on("selection:changed",function(t){e.$emit("selection:changed",t)}),this.canvas.on("selection:cleared",function(t){e.$emit("selection:cleared",t)}),this.canvas.on("before:selection:cleared",function(t){e.$emit("before:selection:cleared",t)}),this.canvas.on("text:changed",function(t){e.$emit("text:changed",t)}),this.canvas.on("text:editing:entered",function(t){e.$emit("text:editing:entered",t)}),this.canvas.on("before:render"),this.canvas.on("after:render"),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),Object(a.a)(n)},methods:{returnXYshow:function(t){return!0===t?"visible":"hidden"},returnXYshowcanvas:function(t,e){return!0===t&&!0===e?18:0},show:function(t){if(document.getElementById("yZhou").scrollTop=document.getElementById("content").scrollTop,document.getElementById("xZhou").scrollLeft=document.getElementById("content").scrollLeft,this.showRuler[1]?this.height+18>this.boxHeight:this.height>this.boxHeight){var e=document.getElementById("content").scrollTop,n=document.getElementById("scrolly").parentNode.offsetHeight-8-50-18,o=document.getElementById("canvas").offsetHeight-document.getElementById("content").offsetHeight+30,i=e*n/o+18;document.getElementById("scrolly").style.top=i+"px"}if(this.showRuler[0]?this.width+18>this.boxWidth:this.width>this.boxWidth){var r=document.getElementById("content").scrollLeft,s=document.getElementById("scrollx").parentNode.offsetWidth-8-50-18,c=document.getElementById("canvas").offsetWidth-document.getElementById("content").offsetWidth+30,a=r*s/c+18;document.getElementById("scrollx").style.left=a+"px"}},yshow:function(t){document.getElementById("content").scrollTop=document.getElementById("yZhou").scrollTop,document.getElementById("content").scrollLeft=document.getElementById("xZhou").scrollLeft},scaleCalc:function(){this.xScale=this.getCalc(this.xScale,this.width*this.canvasZoom,"x"),this.yScale=this.getCalc(this.yScale,this.height*this.canvasZoom,"y")},getCalc:function(t,e,n){if(t=[],"x"===n)for(var o=this.xLeft;o<e*this.stepLength/50;o+=this.stepLength)o%this.stepLength==0&&t.push({id:o});else if("y"===n)for(var i=this.yTop;i<e*this.stepLength/50;i+=this.stepLength)i%this.stepLength==0&&t.push({id:i});else for(var r=0;r<e*this.stepLength/50;r+=this.stepLength)r%this.stepLength==0&&t.push({id:r});return t},setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject();if(t._objects){this.canvas.discardActiveObject();for(var e in t._objects)this.canvas.remove(t._objects[e])}else this.canvas.remove(t);this.canvas.renderAll()},removecurrentObj:function(){var t=this.canvas.getActiveObject();this.canvas.remove(t)},removeObj:function(t){this.canvas.remove(t),this.canvas.renderAll()},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){this.canvas.setZoom(t),this.canvas.renderAll()},ChangeZoom:function(t){if(this.canvasZoom=this.canvas.getZoom(),1===t)this.canvasZoom=this.canvasZoom+.1,this.canvas.setWidth(this.width*this.canvasZoom),this.canvas.setHeight(this.height*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.canvas.renderAll();else if(0===t){if(this.width*(this.canvasZoom-.1)<this.boxWidth||this.height*(this.canvasZoom-.1)<this.boxHeight)return;this.canvasZoom=this.canvasZoom-.1,this.canvas.setWidth(this.width*this.canvasZoom),this.canvas.setHeight(this.height*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.canvas.renderAll()}},setbackground:function(t){this.canvas.backgroundColor=t,this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.discardActiveGroup(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},setWidth:function(t){this.canvas.setWidth(t)},setHeight:function(t){this.canvas.setHeight(t)},setShow:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id===t&&(e[n].set("selectable",!0),e[n].set("visible",!0),e[n].set("opacity",1),this.canvas.requestRenderAll(),this.canvas.renderAll())},setHidden:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id===t&&(e[n].set("selectable",!1),e[n].set("visible",!1),e[n].set("opacity",0),this.canvas.requestRenderAll(),this.canvas.renderAll())},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},rename:function(t,e){var n=this.canvas.getObjects();for(var o in n)n[o].id===t&&(n[o].set("name",e),this.canvas.requestRenderAll())},createRect:function(t){t=s()({width:50,height:30,left:50,top:50,padding:0,angle:0,scaleX:1,scaleY:1},t);var e=new fabric.Rect(i()({},t,{name:t.name?t.name:"Rect",component:"component",isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fillColor?t.fillColor:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"rgba(0,0,0,0)",stroke:t.bordersColor?t.bordersColor:"rgba(0,0,0,0)",strokeWidth:t.bordersWidth?t.bordersWidth:0,strokeDashArray:t.bordersStyle?t.bordersStyle:[0,0],borderDashArray:[8,2],borderColor:"#999",cornerColor:"#999",cornerStrokeColor:"#999",cornerFillColor:"#eee",minScaleLimit:1e-4,lockScalingFlip:!0,flipX:!1,flipY:!1,originX:"left",originY:"top",centeredRotation:!1,stopContextMenu:!0}));return this.canvas.add(e),this.canvas.renderAll(),e},createCircle:function(t){t=s()({left:0,top:0,radius:30,fillColor:"rgba(255, 255, 255, 0)",color:"#B2B2B2",drawWidth:2},t);var e=i()({},t,{fill:t.fillColor,strokeWidth:t.drawWidth,stroke:t.color}),n=new fabric.Circle(e);this.canvas.add(n),this.canvas.renderAll()},createText:function(t,e){e=s()({left:100,top:100},e);var n=new fabric.Text(t,i()({},e));this.canvas.add(n),this.canvas.renderAll()}}}},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){var o=n(2),i=n(1),r=n(22),s=n(24),c=n(9),a=function(t,e,n){var u,l,h,f=t&a.F,d=t&a.G,v=t&a.S,m=t&a.P,p=t&a.B,g=t&a.W,b=d?i:i[e]||(i[e]={}),y=b.prototype,w=d?o:v?o[e]:(o[e]||{}).prototype;d&&(n=e);for(u in n)(l=!f&&w&&void 0!==w[u])&&c(b,u)||(h=l?w[u]:n[u],b[u]=d&&"function"!=typeof w[u]?n[u]:p&&l?r(h,o):g&&w[u]==h?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):m&&"function"==typeof h?r(Function.call,h):h,m&&((b.virtual||(b.virtual={}))[u]=h,t&a.R&&y&&!y[u]&&s(y,u,h)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var o=n(25),i=n(26),r=n(28),s=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(11),i=n(12);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(15);n.d(e,"FabricCanvas",function(){return o.a})},function(t,e,n){"use strict";var o=n(16),i={install:function(t){t.component(o.a.name,o.a)}};e.a=i},function(t,e,n){"use strict";function o(t){n(17)}var i=n(5),r=n(53),s=n(18),c=o,a=s(i.a,r.a,!1,c,"data-v-0324c7e6",null);e.a=a.exports},function(t,e){},function(t,e){t.exports=function(t,e,n,o,i,r){var s,c=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(s=t,c=t.default);var u="function"==typeof c?c.options:c;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i);var l;if(r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):o&&(l=o),l){var h=u.functional,f=h?u.render:u.beforeCreate;h?(u._injectStyles=l,u.render=function(t,e){return l.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,l):[l]}return{esModule:s,exports:c,options:u}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(6),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e,n){n(21),t.exports=n(1).Object.assign},function(t,e,n){var o=n(7);o(o.S+o.F,"Object",{assign:n(30)})},function(t,e,n){var o=n(23);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(8),i=n(29);t.exports=n(0)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(3);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(0)&&!n(4)(function(){return 7!=Object.defineProperty(n(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(3),i=n(2).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){var o=n(3);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(0),i=n(31),r=n(42),s=n(43),c=n(44),a=n(11),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=c(t),u=arguments.length,l=1,h=r.f,f=s.f;u>l;)for(var d,v=a(arguments[l++]),m=h?i(v).concat(h(v)):i(v),p=m.length,g=0;p>g;)d=m[g++],o&&!f.call(v,d)||(n[d]=v[d]);return n}:u},function(t,e,n){var o=n(32),i=n(41);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){var o=n(9),i=n(10),r=n(34)(!1),s=n(37)("IE_PROTO");t.exports=function(t,e){var n,c=i(t),a=0,u=[];for(n in c)n!=s&&o(c,n)&&u.push(n);for(;e.length>a;)o(c,n=e[a++])&&(~r(u,n)||u.push(n));return u}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(10),i=n(35),r=n(36);t.exports=function(t){return function(e,n,s){var c,a=o(e),u=i(a.length),l=r(s,u);if(t&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var o=n(13),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(13),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(38)("keys"),i=n(40);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(1),i=n(2),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(39)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(12);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}();!function(){document.removeEventListener}()},function(t,e,n){"use strict";var o=n(47),i=n.n(o),r=n(48),s=n.n(r),c=function(){function t(){i()(this,t)}return s()(t,[{key:"registeObjectEvent",value:function(t,e){console.log("registeObjectEvent"),e.on("mousedown",function(n){t.$emit("object:mousedown",e,n)}),e.on("mouseup",function(n){t.$emit("object:mouseup",e,n)}),e.on("mousemove",function(n){t.$emit("object:mousemove",e,n)}),e.on("mouseover",function(n){t.$emit("object:mouseover",e,n)}),e.on("mouseout",function(n){t.$emit("object:mouseout",e,n)}),e.on("mousedblclick",function(n){t.$emit("object:mousedblclick",e,n)}),e.on("mousewheel",function(n){t.$emit("object:mousewheel",e,n)})}}]),t}();new c},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(49),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){t.exports={default:n(50),__esModule:!0}},function(t,e,n){n(51);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(7);o(o.S+o.F*!n(0),"Object",{defineProperty:n(8).f})},function(t,e,n){"use strict";function o(t){function e(t){o(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}function n(t){o(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}function o(t,e,n,o){s.save(),s.lineWidth=a,s.strokeStyle=u,s.setLineDash([5,1]),s.beginPath(),s.moveTo((t+r[4])*l,(e+r[5])*l),s.lineTo((n+r[4])*l,(o+r[5])*l),s.stroke(),s.restore()}function i(t,e){t=Math.round(t),e=Math.round(e);for(var n=t-c,o=t+c;n<=o;n++)if(n===e)return!0;return!1}var r,s=t.getSelectionContext(),c=5,a=1,u="rgb(0,0,0,0.6)",l=1,h=[],f=[];t.on("mouse:down",function(){r=t.viewportTransform,l=t.getZoom()}),t.on("object:moving",function(e){var n=e.target,o=t.getObjects(),s=n.getCenterPoint(),c=s.x,a=s.y,u=n.getBoundingRect(),l=u.height/r[3],d=u.width/r[0],v=!1,m=!1;if(t._currentTransform){for(var p=o.length;p--;)if(o[p]!==n&&0!==o[p].opacity&&!1!==o[p].visible&&!1!==o[p].selectable){var g=o[p].getCenterPoint(),b=g.x,y=g.y,w=o[p].getBoundingRect(),x=w.height/r[3],j=w.width/r[0];i(b,c)&&(m=!0,h.push({x:b,y1:y<a?y-x/2-5:y+x/2+5,y2:a>y?a+l/2+5:a-l/2-5}),n.setPositionByOrigin(new fabric.Point(b,a),"center","center")),i(b-j/2,c-d/2)&&(m=!0,h.push({x:b-j/2,y1:y<a?y-x/2-5:y+x/2+5,y2:a>y?a+l/2+5:a-l/2-5}),n.setPositionByOrigin(new fabric.Point(b-j/2+d/2,a),"center","center")),i(b+j/2,c+d/2)&&(m=!0,h.push({x:b+j/2,y1:y<a?y-x/2-5:y+x/2+5,y2:a>y?a+l/2+5:a-l/2-5}),n.setPositionByOrigin(new fabric.Point(b+j/2-d/2,a),"center","center")),i(y,a)&&(v=!0,f.push({y:y,x1:b<c?b-j/2-5:b+j/2+5,x2:c>b?c+d/2+5:c-d/2-5}),n.setPositionByOrigin(new fabric.Point(c,y),"center","center")),i(y-x/2,a-l/2)&&(v=!0,f.push({y:y-x/2,x1:b<c?b-j/2-5:b+j/2+5,x2:c>b?c+d/2+5:c-d/2-5}),n.setPositionByOrigin(new fabric.Point(c,y-x/2+l/2),"center","center")),i(y+x/2,a+l/2)&&(v=!0,f.push({y:y+x/2,x1:b<c?b-j/2-5:b+j/2+5,x2:c>b?c+d/2+5:c-d/2-5}),n.setPositionByOrigin(new fabric.Point(c,y+x/2-l/2),"center","center"))}v||(f.length=0),m||(h.length=0)}}),t.on("before:render",function(){void 0!==t._target&&t.clearContext(t.contextTop)}),t.on("after:render",function(){for(var t=h.length;t--;)e(h[t]);for(var t=f.length;t--;)n(f[t]);h.length=f.length=0}),t.on("mouse:up",function(){h.length=f.length=0,t.renderAll()})}e.a=o},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bigbox",style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;"},[(t.showRuler[1]?t.height+18>t.boxHeight:t.height>t.boxHeight)?n("div",{staticClass:"scrollx",style:"height:"+t.boxHeight+"px;margin-left:"+(t.boxWidth-8)+"px;"},[n("i",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{id:"scrolly"}})]):t._e(),t._v(" "),(t.showRuler[0]?t.width+18>t.boxWidth:t.width>t.boxWidth)?n("div",{staticClass:"scrolly",style:"width:"+t.boxWidth+"px;margin-top:"+(t.boxHeight-8)+"px;"},[n("i",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{id:"scrollx"}})]):t._e(),t._v(" "),t.showRuler[0]&&t.showRuler[1]?n("div",{staticClass:"boxblock"}):t._e(),t._v(" "),n("div",{staticClass:"xZhou",style:"width: "+(t.boxWidth-t.returnXYshowcanvas(t.showXzhou,t.showYzhou))+"px; visibility:"+t.returnXYshow(t.showXzhou)+";margin-left:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;",attrs:{id:"xZhou"}},[n("div",{staticClass:"x-line",style:"width: "+t.width+"px;transform-origin:left; transform:scaleX("+t.canvasZoom+");"},t._l(t.xScale,function(e,o){return n("span",{key:o,staticClass:"number",style:{left:50*o+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"yZhou",style:"height: "+(t.boxHeight-t.returnXYshowcanvas(t.showXzhou,t.showYzhou))+"px; visibility:"+t.returnXYshow(t.showYzhou)+";margin-top:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;",attrs:{id:"yZhou"}},[n("div",{staticClass:"y-line",style:"height:"+t.height+"px; transform-origin:top; transform:scaleY("+t.canvasZoom+");top:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;"},t._l(t.yScale,function(e,o){return n("span",{key:o,staticClass:"number",style:{top:50*o+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"content",style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;",attrs:{id:"content"}},[n("div",{staticClass:"black",style:"position: absolute; top:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px; left: "+t.returnXYshowcanvas(t.showYzhou,t.showXzhou)+"px;"},[n("div",{staticClass:"yellow",style:"width: "+t.width*t.canvasZoom+"px;height:"+t.height*t.canvasZoom+"px; "},[n("div",{staticClass:"title"},[t._v(t._s(t.name)+":"+t._s(t.width)+"*"+t._s(t.height)+" ")]),t._v(" "),n("canvas",{attrs:{id:"canvas",width:t.width,height:t.height}})])])])])},i=[],r={render:o,staticRenderFns:i};e.a=r}])});