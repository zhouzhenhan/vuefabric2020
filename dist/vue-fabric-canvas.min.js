!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fabric-canvas"]=e():t["vue-fabric-canvas"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(A){if(n[A])return n[A].exports;var i=n[A]={i:A,l:!1,exports:{}};return t[A].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,A){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:A})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=60)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var A=n(39)("wks"),i=n(30),o=n(0).Symbol,r="function"==typeof o;(t.exports=function(t){return A[t]||(A[t]=r&&o[t]||(r?o:i)("Symbol."+t))}).store=A},function(t,e,n){var A=n(0),i=n(1),o=n(7),r=n(8),a=n(12),s=function(t,e,n){var c,l,u,h=t&s.F,f=t&s.G,d=t&s.S,v=t&s.P,p=t&s.B,g=t&s.W,m=f?i:i[e]||(i[e]={}),b=m.prototype,y=f?A:d?A[e]:(A[e]||{}).prototype;f&&(n=e);for(c in n)(l=!h&&y&&void 0!==y[c])&&a(m,c)||(u=l?y[c]:n[c],m[c]=f&&"function"!=typeof y[c]?n[c]:p&&l?o(u,A):g&&y[c]==u?function(t){var e=function(e,n,A){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,A)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):v&&"function"==typeof u?o(Function.call,u):u,v&&((m.virtual||(m.virtual={}))[c]=u,t&s.R&&b&&!b[c]&&r(b,c,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var A=n(9),i=n(66),o=n(67),r=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(A(t),e=o(e,!0),A(n),i)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var A=n(10);t.exports=function(t,e,n){if(A(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,A){return t.call(e,n,A)};case 3:return function(n,A,i){return t.call(e,n,A,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var A=n(4),i=n(26);t.exports=n(6)?function(t,e,n){return A.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var A=n(5);t.exports=function(t){if(!A(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var A=n(7),i=n(42),o=n(43),r=n(9),a=n(16),s=n(44),c={},l={},e=t.exports=function(t,e,n,u,h){var f,d,v,p,g=h?function(){return t}:s(t),m=A(n,u,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(f=a(t.length);f>b;b++)if((p=e?m(r(d=t[b])[0],d[1]):m(t[b]))===c||p===l)return p}else for(v=g.call(t);!(d=v.next()).done;)if((p=i(v,m,d.value,e))===c||p===l)return p};e.BREAK=c,e.RETURN=l},function(t,e,n){var A=n(21),i=Math.min;t.exports=function(t){return t>0?i(A(t),9007199254740991):0}},function(t,e,n){var A=n(4).f,i=n(12),o=n(2)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&A(t,o,{configurable:!0,value:e})}},function(t,e,n){var A=n(22);t.exports=function(t){return Object(A(t))}},function(t,e){t.exports=function(t,e,n,A,i,o){var r,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,a=t.default);var c="function"==typeof a?a.options:a;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i);var l;if(o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),A&&A.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):A&&(l=A),l){var u=c.functional,h=u?c.render:c.beforeCreate;u?(c._injectStyles=l,c.render=function(t,e){return l.call(e),h(t,e)}):c.beforeCreate=h?[].concat(h,l):[l]}return{esModule:r,exports:a,options:c}}},function(t,e,n){"use strict";var A=n(65)(!0);n(23)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=A(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,A=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?A:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var A=n(24),i=n(3),o=n(68),r=n(8),a=n(13),s=n(69),c=n(17),l=n(74),u=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,d,v,p,g){s(n,e,d);var m,b,y,x=function(t){if(!h&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",j="values"==v,k=!1,_=t.prototype,T=_[u]||_["@@iterator"]||v&&_[v],E=T||x(v),C=v?j?x("entries"):E:void 0,O="Array"==e?_.entries||T:T;if(O&&(y=l(O.call(new t)))!==Object.prototype&&y.next&&(c(y,w,!0),A||"function"==typeof y[u]||r(y,u,f)),j&&T&&"values"!==T.name&&(k=!0,E=function(){return T.call(this)}),A&&!g||!h&&!k&&_[u]||r(_,u,E),a[e]=E,a[w]=f,v)if(m={values:j?E:x("values"),keys:p?E:x("keys"),entries:C},g)for(b in m)b in _||o(_,b,m[b]);else i(i.P+i.F*(h||k),e,m);return m}},function(t,e){t.exports=!0},function(t,e,n){var A=n(5),i=n(0).document,o=A(i)&&A(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var A=n(28),i=n(22);t.exports=function(t){return A(i(t))}},function(t,e,n){var A=n(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==A(t)?t.split(""):Object(t)}},function(t,e,n){var A=n(39)("keys"),i=n(30);t.exports=function(t){return A[t]||(A[t]=i(t))}},function(t,e){var n=0,A=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+A).toString(36))}},function(t,e,n){var A=n(14),i=n(2)("toStringTag"),o="Arguments"==A(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=r(e=Object(t),i))?n:o?A(e):"Object"==(a=A(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var A=n(8);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:A(t,i,e[i]);return t}},function(t,e){t.exports=function(t,e,n,A){if(!(t instanceof e)||void 0!==A&&A in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";function A(t){var e,n;this.promise=new t(function(t,A){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=A}),this.resolve=i(e),this.reject=i(n)}var i=n(10);t.exports.f=function(t){return new A(t)}},function(t,e,n){"use strict";var A=n(36),i=n.n(A),o=n(77),r=n.n(o),a=n(52),s=n.n(a),c=n(102),l=n.n(c),u=n(103),h=n.n(u),f=n(57),d=n.n(f),v=n(109),p=n.n(v),g=n(112),m=n.n(g),b=n(113),y=n.n(b),x=n(115),w=n(116),j=n(122),k=n(123);e.a={name:"FabricCanvas",components:{vueContextMenu:k.a},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},boxWidth:{type:Number,required:!0},boxHeight:{type:Number,required:!0},stepLengthp:{type:Number,default:50},showRuler:{type:Array,default:function(){return[!0,!0]}},idno:{type:Number,default:1,required:!0}},data:function(){return{name:"canvas",canvas:null,canvasZoom:1,clipboard:"",cid:1,xScale:[],yScale:[],xLeft:-200,yTop:-100,translateX:-18,translateY:-18,stepLength:this.stepLengthp,showXzhou:this.showRuler[0],showYzhou:this.showRuler[1],rulertop:0,rulerleft:0,scrollyH:100,scrollxW:50,contextMenuData:{menuName:"demo",axis:{x:null,y:null},menulists:[{fnHandler:"",icoName:"fa fa-home fa-fw",btnName:this.$t("m.layer"),children:[{fnHandler:"toLastLayer",icoName:"fa fa-home fa-fw",btnName:this.$t("m.MoveUpALayer")},{fnHandler:"toNextLayer",icoName:"fa fa-home fa-fw",btnName:this.$t("m.DownALayer")},{fnHandler:"toTopLayer",icoName:"fa fa-home fa-fw",btnName:this.$t("m.OnTheTopFloor")},{fnHandler:"toBottomLayer",icoName:"fa fa-home fa-fw",btnName:this.$t("m.AtTheBottom")}]},{fnHandler:"copypaste",icoName:"fa fa-home fa-fw",btnName:this.$t("m.copy")},{fnHandler:"removeEditObj",icoName:"fa fa-home fa-fw",btnName:this.$t("m.delete")}]},qrcodeImg:"",activecanvaobjs:[],activeobj:{},textareashow:!1,textdata:"abcdefg",textlines:1,style:{id:0,top:0,left:0,width:200,height:60,fontSize:20,textAlign:"left"}}},directives:{drag:{inserted:function(t,e,n){n=n.elm,t.dragstart=function(t){console.log("drag 0"),t.preventDefault(),document.onmousemove=document.onmouseup=null},t.ondrag=function(t){return console.log("drag 1"),t.preventDefault(),document.onmousemove=document.onmouseup=null,!1},t.onmousedown=function(t){var e=t.target.offsetHeight,A=t.target.offsetWidth,i=!0;if("scrollx"!==t.target.id&&"scrolly"!==t.target.id)return void(i=!1);console.log(A,e);var o=t.clientX-n.offsetLeft,r=t.clientY-n.offsetTop,a=null;"scrollx"===t.target.id?a="x":"scrolly"===t.target.id&&(a="y"),document.onmousemove=function(t){var s=void 0,c=void 0;if(s=t.clientX-o,c=t.clientY-r,"x"===a){if(t.clientY<r-60||t.clientY>r+60)return void(i=!1);if(i){var l=n.parentNode.offsetWidth-8-A;s<=18?s=18:s>=l&&(s=l),n.style.left=s+"px";var u=document.getElementById("canvas").offsetWidth-document.getElementById("content").offsetWidth+30,h=u*((s-18)/(l-18));document.getElementById("content").scrollLeft=document.getElementById("xZhou").scrollLeft=h}}else{if(t.clientX<o-60||t.clientX>o+60)return void(i=!1);if(i){var f=n.parentNode.offsetHeight-8-e;c<=18?c=18:c>=f&&(c=f),n.style.top=c+"px";var d=document.getElementById("canvas").offsetHeight-document.getElementById("content").offsetHeight+30,v=d*((c-18)/(f-18));document.getElementById("content").scrollTop=document.getElementById("yZhou").scrollTop=v}}},document.onmouseup=function(t){i=!1,document.onmousemove=document.onmouseup=null}}}}},watch:{idno:function(t,e){this.cid=t}},mounted:function(){function t(t,e){console.log("deleteobj------");var n=e.target,A=n.canvas;A.remove(n),A.requestRenderAll()}var e=this;window.onresize=function(){e.rulertop=window.pageYOffset,e.rulerleft=window.pageYOffset,e.scrollxW=100,e.scrollyH=100};var n=this;Object(x.a)(document.getElementById("content").firstChild.childNodes[4],"mousewheel",this.show),Object(x.a)(document.getElementById("content").firstChild.childNodes[4],"scroll",this.show),Object(x.a)(document.getElementById("yZhou"),"mousewheel",this.yshow),Object(x.a)(document.getElementById("yZhou"),"scroll",this.yshow),Object(x.a)(document.getElementById("xZhou"),"mousewheel",this.yshow),Object(x.a)(document.getElementById("xZhou"),"scroll",this.yshow);document.onkeydown=function(t){console.log("keyCode:",window.event.keyCode);var e=window.event.keyCode;if(event.shiftKey&&107===window.event.keyCode?n.ChangeZoom(1):event.shiftKey&&109===window.event.keyCode&&n.ChangeZoom(0),46===e){n.removeCurrentObj()}if(37===e&&(n.getEditObj().left=parseInt(n.getEditObj().left-1),n.getEditObj().setCoords(),n.canvas.requestRenderAll(),n.canvas.renderAll()),38===e&&(n.getEditObj().top=parseInt(n.getEditObj().top-1),n.getEditObj().setCoords(),n.canvas.requestRenderAll(),n.canvas.renderAll()),39===e&&(n.getEditObj().left=parseInt(n.getEditObj().left+1),n.getEditObj().setCoords(),n.canvas.requestRenderAll(),n.canvas.renderAll()),40===e&&(n.getEditObj().top=parseInt(n.getEditObj().top+1),n.getEditObj().setCoords(),n.canvas.requestRenderAll(),n.canvas.renderAll()),event.ctrlKey&&67===e){var A=n.copyData();document.getElementById("code").value=A,n.clipboard=A,document.getElementById("code").select(),document.execCommand("copy"),document.getElementById("code").value=""}event.ctrlKey,event.shiftKey&&68===e&&n.copypaste()},document.onkeyup=function(t){},document.addEventListener("paste",function(t){var e=t.clipboardData.getData("Text");n.paste(e),t.clipboardData.setData("Text",""),t.clipboardData.clearData("Text")}),this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var A=this.canvas;fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzBBQTBGQ0Y4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzBBQTBGREY4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MEFBMEZBRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MEFBMEZCRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QUJwRwAAAytJREFUeNrsVk1oGkEUXqVIqCRIhVICEsSTkFuwEPDaWiQ9NaQx6VGRaqCHQATBEFMKKUoLos0h4LV4aWxCbyqhEbx4CJJCwJMJRKVWxJ/EkJ/X9yabZd2oay+hhX7wsbPz3sybmTfv21UAAHdXUHJ3iL8rmEKh0CHdyASyhAQRC8gQ0izyNyCD9Lw1GeWsFxFvdDoduN1uSCQSUCqVQIxCoQChUAjMZjM5B5DTw8PDEAwG6f3Trfl6BFEgQzMzM3BwcAByaDabYLPZYHR0FJLJJOu73sdgwd65XC44Pz8XJjw+PoZYLAZ+vx+8Xi/b6enpqWBvtVqwu7vL2u12myZpywZDOCcnJ6FarbKBV1dXEI1GwWg0gkqlIgc/0qtWq2FiYgI2NjagVqt17LRer5NfvW8wxH0E7O3tCQMXFxfJEEWakCqRrxr5lBaQyWQ6gjUaDXJoyAV7gYDLy0s2iJJPiaZFdDmBRyMjI7C5udk1h2hvygX7jGADTk5OgG4i9hlFditym6ef8tcL3S7IPUklPEawRjqd5orFIjXzfP08M5lM35aXl5l9dXV1amtri8tms5xU8s7Ozuix3rfOEL8QbGWBQIDVjsj2FSGsnNrUh3yOnJLwSbdbLt3ZT8QDxM2uiiIbXR7xC8fncpvf+cOhoaGywWDgsNjpfRxtP/rJVZEPwlFAeohs67hbLpVKMVJbclSvPR4Pt7+/z62trbF3uWP8gmDHdHh4CBqNhjo1Ivs0MslzWtSvo8uEC2VjMd/UmZa7ja8QcHFxwQYtLS1R50cZ/SRpC66srAj59Pl8ZPANoiDfEYLszM3NUecHpFbiRykYR0ZI2kiuCEdHR6DX68lBP0gwm8ViYZJDIP1bWFgArVZ7o+x2pEupVMLY2BhEIhEmaQQSg/n5efLzdj2FHkfzfnZ2FiqVinA0+XyelYPdbgfaCWliuVzuUA2n00mDwz2PvE8u3mKBQzwel/3E7OzsAJ2GuC7/KBgf0IKMW61WCIfDkMvlmMiiQrCvApYAOBwO9tVGv5f95pINJtHEMDJHak6KhKwiU0gH3chB5lH8/5X754L9FmAAxKqp09gZRrsAAAAASUVORK5CYII=) 12 12, auto",fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:t},bl:{action:"scale"},br:{action:t},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:t},ml:{action:"scaleX"},mtr:{action:"rotate"}}),fabric.Object.prototype.originX="center",fabric.Object.prototype.originY="center",A.selection=!0,A.controlsAboveOverlay=!1,A.skipOffscreen=!0,A.preserveObjectStacking=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}});var i=0,o=0,r=null;this.canvas.on("selection:created",function(t){n.$emit("selection:created",t),i=t.target.top,o=t.target.left}),this.canvas.on("mouse:down",function(t){n.$emit("mouse:down",t)}),this.canvas.on("mouse:up",function(t){n.$emit("mouse:up",t)}),this.canvas.on("mouse:move",function(t){n.$emit("mouse:move",t)}),this.canvas.on("mouse:dblclick",function(t){n.$emit("mouse:dblclick",t)}),this.canvas.on("mouse:over",function(t){n.$emit("mouse:over",t)}),this.canvas.on("mouse:out",function(t){n.$emit("mouse:out",t)}),this.canvas.on("object:added",function(t){n.$emit("object:added",t)}),this.canvas.on("object:removed",function(t){n.$emit("object:removed",t)}),this.canvas.on("object:moved",function(t){n.$emit("object:moved",t),i=t.target.top,o=t.target.left,r=null}),this.canvas.on("object:modified",function(t){console.log("object:modified"),n.$emit("object:modified",t),i=t.target.top,o=t.target.left,r=null}),this.canvas.on("object:rotating",function(t){n.$emit("object:rotating",t)}),this.canvas.on("object:scaling",function(t){n.$emit("object:scaling",t)}),this.canvas.on("object:scaled",function(t){n.$emit("object:scaled",t),"Qrcode"===t.target.isType&&(t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1),n.changeQrcodeImage(t.target),n.setActiveObject(t.target)),"Barcode"===t.target.isType&&n.changeBarcodeImage(t.target)}),this.canvas.on("object:selected",function(t){n.$emit("object:selected",t),t.target.isType}),this.canvas.on("object:moving",function(t){n.$emit("object:moving",t);var e=t.target;e.setCoords(),(e.getBoundingRect().top<0||e.getBoundingRect().left<0)&&(e.top=Math.max(e.top,e.top-e.getBoundingRect().top/n.canvasZoom),e.left=Math.max(e.left,e.left-e.getBoundingRect().left/n.canvasZoom)),(e.getBoundingRect().top+e.getBoundingRect().height-1>e.canvas.height||e.getBoundingRect().left+e.getBoundingRect().width-1>e.canvas.width)&&(e.top=Math.min(e.top,(e.canvas.height-e.getBoundingRect().height-1*n.canvasZoom)/n.canvasZoom+e.top-e.getBoundingRect().top/n.canvasZoom+2),e.left=Math.min(e.left,(e.canvas.width-e.getBoundingRect().width-1*n.canvasZoom)/n.canvasZoom+e.left-(e.getBoundingRect().left/n.canvasZoom-2))),t.target._objects?t.transform.altKey&&("x"===r||Math.abs(t.target.left-o)>Math.abs(t.target.top-i)?(Math.abs(t.target.left-o)>18&&(r="x"),t.target.set("top",i)):("y"===r||Math.abs(t.target.left-o)<Math.abs(t.target.top-i))&&(Math.abs(t.target.top-i)>18&&(r="y"),t.target.set("left",o))):t.transform.shiftKey&&("x"===r||Math.abs(t.target.left-o)>Math.abs(t.target.top-i)?(Math.abs(t.target.left-o)>18&&(r="x"),t.target.set("top",i)):("y"===r||Math.abs(t.target.left-o)<Math.abs(t.target.top-i))&&(Math.abs(t.target.top-i)>18&&(r="y"),t.target.set("left",o)))}),this.canvas.on("selection:updated",function(t){n.$emit("selection:updated",t)}),this.canvas.on("selection:changed",function(t){n.$emit("selection:changed",t)}),this.canvas.on("selection:cleared",function(t){n.$emit("selection:cleared",t)}),this.canvas.on("before:selection:cleared",function(t){n.$emit("before:selection:cleared",t)}),this.canvas.on("text:changed",function(t){n.$emit("text:changed",t)}),this.canvas.on("text:editing:entered",function(t){n.$emit("text:editing:entered",t)}),this.canvas.on("before:render"),this.canvas.on("after:render"),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),this.initBgRect(),this.scaleCalc(),Object(j.a)(A)},methods:{drawqrcode:function(t,e){var n=jrQrcode.getQrBase64(t,{padding:e.margin?e.margin:1,width:e.width?e.width:80,height:e.height?e.height:80,correctLevel:QRErrorCorrectLevel.H,reverse:!1,background:e.background?e.background:"#ffffff",foreground:e.lineColor?e.lineColor:"#000000"});return this.qrcodeImg=n,n},showMenu:function(){for(var t=this.canvas,e=event.clientX,n=event.clientY,A=t.getObjects(),i=A.length-1;i>=0;i--){var o=A[i];if(o.visible){if(console.log(o.component),"component"!==o.component){event.preventDefault();continue}if(t.containsPoint(event,o))return this.setActiveObject(o),this.contextMenuData.axis={x:e,y:n},void event.preventDefault()}}},setScroll:function(t,e){this.scrollxW=this.boxWidth*this.boxWidth/t,this.scrollyH=this.boxHeight*this.boxHeight/e},returnXYshow:function(t){return!0===t?"visible":"hidden"},returnXYshowcanvas:function(t,e){return!0===t&&!0===e?18:0},show:function(t){document.getElementById("yZhou").scrollTop=document.getElementById("content").firstChild.childNodes[4].scrollTop,document.getElementById("xZhou").scrollLeft=document.getElementById("content").firstChild.childNodes[4].scrollLeft},yshow:function(t){document.getElementById("content").children[0].children[2].scrollTop=document.getElementById("yZhou").scrollTop,document.getElementById("content").children[0].children[2].scrollLeft=document.getElementById("xZhou").scrollLeft},yshowadd:function(){var t=void 0,e=void 0;if(this.boxHeight/2-this.height*this.canvasZoom/2>0){var n=this.boxHeight*(this.canvasZoom-1)/2,A=this.boxHeight*this.canvasZoom/2-this.height*this.canvasZoom/2;t=n<A?n:A}else t=this.boxHeight*this.canvasZoom/2-this.height*this.canvasZoom/2;if(this.boxWidth/2-this.width*this.canvasZoom/2>0){var i=this.boxWidth*(this.canvasZoom-1)/2,o=this.boxWidth*this.canvasZoom/2-this.width*this.canvasZoom/2;e=i<o?i:o}else e=this.boxWidth*this.canvasZoom/2-this.width*this.canvasZoom/2;document.getElementById("content").firstChild.childNodes[4].scrollTop=document.getElementById("yZhou").scrollTop=t,document.getElementById("content").firstChild.childNodes[4].scrollLeft=document.getElementById("xZhou").scrollLeft=e},scaleCalc:function(){var t=this.width>this.boxWidth?this.width:this.boxWidth,e=this.height>this.boxHeight?this.height:this.boxHeight;this.xScale=this.getCalc(this.xScale,t*this.canvasZoom,"x"),this.yScale=this.getCalc(this.yScale,e*this.canvasZoom,"y")},getCalc:function(t,e,n){if(t=[],"x"===n)for(var A=this.xLeft;A<e*this.stepLength/50;A+=this.stepLength)this.translateX=-A%this.stepLength-18,A%this.stepLength<0?t.push({id:A-A%this.stepLength-this.stepLength}):t.push({id:A-A%this.stepLength});else if("y"===n)for(var i=this.yTop;i<e*this.stepLength/50;i+=this.stepLength)this.translateY=-i%this.stepLength-18,i%this.stepLength<0?t.push({id:i-i%this.stepLength-this.stepLength}):t.push({id:i-i%this.stepLength});else{console.log("未计算");for(var o=0;o<e*this.stepLength/50;o+=this.stepLength)o%this.stepLength==0&&t.push({id:o})}return t},clickbody:function(t){this.isInRange(t.pageX,t.pageY)||(this.textareashow=!1)},isInRange:function(t,e){t=Math.round(t),e=Math.round(e);var n=document.getElementById("can").offsetLeft,A=document.getElementById("can").offsetTop;document.getElementById("content").children[0].children[2].scrollWidth,document.getElementById("content").children[0].children[2].scrollHeight;return t>this.style.left+n&&t<this.style.left+n+this.style.width&&e>this.style.top+A&&e<this.style.top+A+this.style.height},changetext:function(t){var e=t.srcElement.value,n=this.getEditObj(),A=n.item(1)._splitTextIntoLines(e).lines;this.textlines=A.length;var i="";i=A.join(""),console.log(y()(e)),console.log(e.length),console.log(i.length),n.item(1).set({text:e}),n.set({textdemo:e}),this.renderCanvas()},getObjects:function(){return this.canvas.getObjects()},setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},setActiveObjs:function(t){var e=this,n=[];t.forEach(function(t){e.canvas.getObjects().forEach(function(e){e.id===t&&n.push(e)})});var A=new fabric.ActiveSelection(n,{canvas:this.canvas});this.canvas.setActiveObject(A),this.canvas.requestRenderAll(),this.canvas.renderAll()},setActiveObjects:function(t){var e=new fabric.ActiveSelection(t,{canvas:this.canvas});this.canvas.setActiveObject(e),this.canvas.requestRenderAll(),this.canvas.renderAll()},setActiveid:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id===t&&this.canvas.setActiveObject(e[n]);this.canvas.requestRenderAll(),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject(),e=[];if(t._objects){this.canvas.discardActiveObject();for(var n in t._objects)e.push(t._objects[n].id),this.canvas.remove(t._objects[n]);e.push(t.id),this.canvas.remove(t)}else e.push(t.id),this.canvas.remove(t);return this.canvas.renderAll(),this.$emit("deleteidsdata",e),e},removeEditObj:function(){var t=this.canvas.getActiveObject();this.$emit("deleteidsdata",[t.id]),this.canvas.remove(t)},deleteObjs:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id==t&&this.canvas.remove(e[n]);this.canvas.requestRenderAll(),this.canvas.renderAll()},removeObj:function(t){this.canvas.remove(t),this.canvas.renderAll()},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){var e=this;this.canvasZoom=t;var n=this.width>this.boxWidth?this.width:this.boxWidth,A=this.height>this.boxHeight?this.height:this.boxHeight;this.canvas.setWidth(n*this.canvasZoom),this.canvas.setHeight(A*this.canvasZoom),this.canvas.setZoom(t),setTimeout(function(){e.yshowadd()},10),this.$emit("changeZoomTo",t),this.canvas.renderAll()},ChangeZoom:function(t){this.canvasZoom=this.canvas.getZoom();var e=this.width>this.boxWidth?this.width:this.boxWidth,n=this.height>this.boxHeight?this.height:this.boxHeight;if(1===t){if(console.log(e*this.canvasZoom),e*this.canvasZoom>1e4||n*this.canvasZoom>1e4)return;this.canvasZoom=this.canvasZoom+.1,this.canvas.setWidth(e*this.canvasZoom),this.canvas.setHeight(n*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.yshowadd(),this.canvas.renderAll()}else if(0===t){if(e*(this.canvasZoom-.1)<this.boxWidth||n*(this.canvasZoom-.1)<this.boxHeight)return;this.canvasZoom=this.canvasZoom-.1,this.canvas.setWidth(e*this.canvasZoom),this.canvas.setHeight(n*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.yshowadd(),this.canvas.renderAll()}this.$emit("changeZoomTo",this.canvasZoom)},setbackground:function(t){this.canvas.backgroundColor=t,this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.requestRenderAll(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},setWidth:function(t){this.canvas.setWidth(t)},setHeight:function(t){this.canvas.setHeight(t)},setShow:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id===t&&(e[n].set("selectable",!0),e[n].set("visible",!0),e[n].set("opacity",1),this.canvas.requestRenderAll(),this.canvas.renderAll())},setHidden:function(t){var e=this.canvas.getObjects();for(var n in e)e[n].id===t&&(e[n].set("selectable",!1),e[n].set("visible",!1),e[n].set("opacity",0),this.canvas.requestRenderAll(),this.canvas.renderAll())},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},rename:function(t,e){var n=this.canvas.getObjects();for(var A in n)n[A].id===t&&(n[A].set("name",e),this.canvas.requestRenderAll())},toNextLayer:function(){var t=this.canvas.getActiveObject();t&&(t.sendBackwards(!0),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},toBottomLayer:function(){var t=this.canvas.getActiveObject();t&&(t.sendToBack(),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},toLastLayer:function(){var t=this.canvas.getActiveObject();t&&(t.bringForward(!0),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},toTopLayer:function(){var t=this.canvas.getActiveObject();t&&(t.bringToFront(),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},copyData:function(){var t=this.canvas.getActiveObject();if(void 0!=t&&null!=t){if("group"===t.get("type"))return"#ZKONG#"+escape(y()(t));if("activeSelection"===t.get("type")){console.log(t._objects);var e=JSON.parse(y()(t._objects)),n=[];return e.map(function(e){e.top=t.top+e.top,e.left=t.left+e.left,n.push(e)}),n[0].parentscale=[t.scaleX,t.scaleY],"#ZKONG#"+escape(y()(n))}return"#ZKONG#"+escape(y()(t))}},paste:function(t){var e=this;return m()(p.a.mark(function n(){var A,i,o,r,a,s,c;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e.clipboard){n.next=2;break}return n.abrupt("return");case 2:if(e.canvas.discardActiveObject(),"#ZKONG#"===t.substring(0,7)){n.next=5;break}return n.abrupt("return");case 5:if(!((A=JSON.parse(unescape(t.substring(7,t.length))))instanceof Array)){n.next=30;break}i=[],e.activecanvaobjs=[],n.t0=p.a.keys(A);case 10:if((n.t1=n.t0()).done){n.next=25;break}return o=n.t1.value,e.$emit("idAdd"),e.cid=e.cid+1,r=A[o],r.id=e.cid,r.top=r.top+10+e.yTop,r.left=r.left+10+e.xLeft,"Barcode"===r.isType&&(r.width=r.width*r.scaleX,r.height=r.height*r.scaleY,r.scaleX=r.scaleY=1),n.next=21,e.createElement(r.isType,r);case 21:a=n.sent,a&&(e.$emit("copyidsdata",[a.id]),i.push(a)),n.next=10;break;case 25:s=new fabric.ActiveSelection(i,{canvas:e.canvas}),s.set({scaleX:A[0].parentscale[0],scaleY:A[0].parentscale[1]}),e.canvas.setActiveObject(s),n.next=42;break;case 30:return e.$emit("idAdd"),e.cid=e.cid+1,c=void 0,A.id=e.cid,A.top=A.top+10+e.yTop,A.left=A.left+10+e.xLeft,"Barcode"===A.isType&&(A.width=parseInt(A.width*A.scaleX),A.height=parseInt(A.height*A.scaleY),A.scaleX=1,A.scaleY=1),"Text"===A.isType&&(A.width=parseInt(A.width*A.scaleX),A.height=parseInt(A.height*A.scaleY),A.scaleX=1,A.scaleY=1),n.next=40,e.createElement(A.isType,A);case 40:c=n.sent,c&&(e.$emit("copyidsdata",[c.id]),e.canvas.setActiveObject(c));case 42:e.clipboard=null,e.canvas.requestRenderAll();case 44:case"end":return n.stop()}},n,e)}))()},copypaste:function(){var t=this.copyData();this.clipboard=t,this.paste(t)},initBgRect:function(t){var e,n,A=0,i=0;A=this.boxWidth>this.width*this.canvasZoom?this.boxWidth/2-this.width/2:0,i=this.boxHeight>this.height*this.canvasZoom?this.boxHeight/2-this.height/2:0,this.xLeft=-A,this.yTop=-i,this.$emit("setlefttop",A,i),this.scaleCalc(),t=d()({width:this.width,height:this.height,left:0,top:0,padding:0,angle:0,scaleX:1,scaleY:1},t);var o=new fabric.Rect(h()({},t,{left:A,top:i,type:"sBg",name:"background",component:"bg",isType:"Rect",isDiff:"none",selectable:!1,visible:!0,fill:t.fill?t.fill:"#fff",fillColor:t.fillColor?t.fillColor:"#fff",flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,hoverCursor:"default",evented:!1,excludeFromExport:!0,hasControls:!1,perPixelTargetFind:!1,strokeWidth:0,stroke:null}));(e=this.canvas).remove.apply(e,l()(this.canvas.getObjects("sBg"))),this.canvas.add(o),o.sendToBack();var r=void 0,a=void 0,s=void 0,c=void 0;this.boxWidth>this.width*this.canvasZoom?(r=this.boxWidth/2-this.width/2,a=r+this.width):(r=0,a=this.width),this.boxHeight>this.height*this.canvasZoom?(s=this.boxHeight/2-this.height/2,c=s+this.height):(s=0,c=this.height);var u=[0,r,a,a+r],f=[0,s,c,c+s],v={selectable:!1,fill:"#f1f1f1",hoverCursor:"default",evented:!1,excludeFromExport:!0,hasControls:!1,perPixelTargetFind:!1,strokeWidth:0,stroke:null,originX:"left",originY:"top"},p=new fabric.Rect({left:u[0],top:f[0],width:u[1]-u[0],height:f[3]-f[0]}),g=new fabric.Rect({left:u[1],top:f[0],width:u[3]-u[1]+2,height:f[1]-f[0]}),m=new fabric.Rect({left:u[2],top:f[1]-1,width:u[3]-u[2],height:f[2]-f[1]+2}),b=new fabric.Rect({left:u[1],top:f[2],width:u[3]-u[1],height:f[3]-f[2]});p.set(h()({name:"mask1"},v)),g.set(h()({name:"mask2"},v)),m.set(h()({name:"mask3"},v)),b.set(h()({name:"mask4"},v));var y=new fabric.Group([p,g,m,b],{originX:"left",originY:"top",selectable:!1,excludeFromExport:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hoverCursor:"auto",name:"grid",left:0,top:0,type:"sMask",evented:!1});(n=this.canvas).remove.apply(n,l()(this.canvas.getObjects("sMask"))),this.canvas.add(y),y.bringToFront(),this.canvas.renderTop(),this.canvas.renderAll()},setTop:function(){var t=this;this.canvas.getObjects().forEach(function(e){"sMask"==e.type&&(e.bringToFront(),t.canvas.renderTop(),t.canvas.renderAll()),"sBg"==e.type&&(e.sendToBack(),t.canvas.renderTop(),t.canvas.renderAll())})},toHorizontalCenterDistribution:function(){var t=this.getEditObj();if(t&&t._objects){t._objects.sort(function(t,e){return t.left-e.left});for(var e in t._objects)t._objects[e].left=e*(t.getBoundingRect().width/(this.canvasZoom*t.scaleX)/(t._objects.length-1))-t.getBoundingRect().width/(this.canvasZoom*t.scaleX)/2-e*(t._objects[e].width*t._objects[e].scaleX/(t._objects.length-1));this.canvas.renderTop(),this.canvas.renderAll()}},toVerticalCenterDistribution:function(){var t=this.getEditObj();if(t&&t._objects){t._objects.sort(function(t,e){return t.top-e.top});for(var e in t._objects)t._objects[e].top=e*(t.getBoundingRect().height/(this.canvasZoom*t.scaleY)/(t._objects.length-1))-t.getBoundingRect().height/(this.canvasZoom*t.scaleY)/2-e*(t._objects[e].height*t._objects[e].scaleY/(t._objects.length-1));this.canvas.renderTop(),this.canvas.renderAll()}},toLeftAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].left=-t.getBoundingRect().width/(this.canvasZoom*t.scaleX)/2;this.canvas.requestRenderAll(),this.canvas.renderTop(),this.canvas.renderAll()}},toHorizontalCenterAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].left=-t._objects[e].width*t._objects[e].scaleX/2;this.canvas.renderTop(),this.canvas.renderAll()}},toRightAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].left=t.getBoundingRect().width/(this.canvasZoom*t.scaleX)/2-t._objects[e].width*t._objects[e].scaleX;this.canvas.renderTop(),this.canvas.renderAll()}},toTopAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].top=-t.getBoundingRect().height/(this.canvasZoom*t.scaleY)/2;this.canvas.renderTop(),this.canvas.renderAll()}},toVerticalCenterAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].top=-t._objects[e].height*t._objects[e].scaleY/2;this.canvas.renderTop(),this.canvas.renderAll()}},toBottomAlign:function(){var t=this.getEditObj();if(t&&t._objects){for(var e in t._objects)t._objects[e].top=t.getBoundingRect().height/(this.canvasZoom*t.scaleY)/2-t._objects[e].height*t._objects[e].scaleY;this.canvas.renderTop(),this.canvas.renderAll()}},drawbarcode:function(t,e){return new s.a(function(n,A){JsBarcode("#barcode",t,{format:e.format?e.format:"CODE128",lineColor:e.lineColor?e.lineColor:"#000000",margin:e.margin?e.margin:0,width:e.lineWidth?e.lineWidth:2,height:e.height?e.height:20,displayValue:!1}),document.getElementById("barcode").onload=function(){var t=document.getElementById("barcode").src;n(t)},document.getElementById("barcode").onerror=function(){A(new Error("barcode is error!"))}})},createElement:function(t,e){var n=this;return m()(p.a.mark(function A(){var i,o,r,a,s,c,l,u,f,d,v,g;return p.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(t){A.next=2;break}return A.abrupt("return");case 2:i=n.canvas,o=n,r=void 0,a=void 0,e=h()({},e,{id:e.id?e.id:1,component:"component",isDiff:"static",padding:0,scaleX:e.scaleX?e.scaleX:1,scaleY:e.scaleY?e.scaleY:1,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:e.left?-n.xLeft+e.left:-n.xLeft,top:e.top?-n.yTop+e.top:-n.yTop,width:e.width?e.width:60,height:e.height?e.height:30,angle:e.angle?e.angle:0,fill:e.fill?e.fill:"#000000",fillColor:e.fillColor?e.fillColor:"#000000",backgroundColor:e.backgroundColor?e.backgroundColor:"",stroke:e.stroke?e.stroke:"",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],selectable:!1!==e.selectable||e.selectable,visible:!1!==e.visible||e.visible}),A.t0=t,A.next="Rect"===A.t0?9:"Rectangle"===A.t0?12:"Parallelogram"===A.t0?15:"Circle"===A.t0?18:"EqualCircle"===A.t0?21:"Dottedline"===A.t0?25:"EqualTriangle"===A.t0?33:"Image"===A.t0?36:"Barcode"===A.t0?40:"Qrcode"===A.t0?44:"Time2"===A.t0?48:"Time"===A.t0?53:"Text"===A.t0?57:"Text2"===A.t0?61:70;break;case 9:return a=h()({},e,{isType:"Rect",name:e.name?e.name:"Rect",rx:0,ry:0}),r=new fabric.Rect(h()({},a)),A.abrupt("break",70);case 12:return a=h()({},e,{isType:"Rectangle",name:e.name?e.name:"Rectangle",rx:e.rx?e.rx:5,ry:e.ry?e.ry:5}),r=new fabric.Rect(h()({},a)),A.abrupt("break",70);case 15:return a=h()({},e,{isType:"Parallelogram",name:e.name?e.name:"Parallelogram",rx:0,ry:0,skewX:e.skewX?e.skewX:-45,skewY:0}),r=new fabric.Rect(h()({},a)),A.abrupt("break",70);case 18:return a=h()({},e,{isType:"Circle",name:e.name?e.name:"Circle",rx:e.width/2,ry:e.height/2}),r=new fabric.Ellipse(h()({},a)),A.abrupt("break",70);case 21:return a=h()({},e,{isType:"EqualCircle",name:e.name?e.name:"EqualCircle",radius:e.width/2}),r=new fabric.Circle(h()({},a)),r.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),A.abrupt("break",70);case 25:return a=h()({},e,{isType:"Dottedline",name:e.name?e.name:"Dottedline",strokeDashArray:3===e.DottedlineType?[10,4,3,4]:2===e.DottedlineType?[8,2]:[0,0],stroke:e.fill,strokeWidth:e.strokeWidth}),s=-n.xLeft+e.left,c=-n.xLeft+e.left+e.width,l=-n.yTop+e.top,u=-n.yTop+e.top,r=new fabric.Line([s,l,c,u],h()({},a)),r.setControlsVisibility({bl:!1,br:!1,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!1,tr:!1}),A.abrupt("break",70);case 33:return a=h()({},e,{isType:"EqualTriangle",name:e.name?e.name:"EqualTriangle"}),r=new fabric.Triangle(h()({},a)),A.abrupt("break",70);case 36:return A.next=38,o.createURLImage(e);case 38:return r=A.sent,A.abrupt("return",r);case 40:return A.next=42,o.createBarcode(e);case 42:return r=A.sent,A.abrupt("return",r);case 44:return A.next=46,o.createQrcode(e);case 46:return r=A.sent,A.abrupt("return",r);case 48:return f=new fabric.Rect({name:e.name?e.name:"Textbg",component:"component",isType:"Textbg",isDiff:"static",lockScalingFlip:!0}),d=new fabric.Text(e.text,{name:e.name?e.name:"Textcentent",component:"component",isType:"Textcentent",isDiff:"static",fill:"#ff0000",splitByGrapheme:!0,lockScalingFlip:!0,fontSize:e.fontSize?e.fontSize:40,fontFamily:"Times New Roman"}),r=new fabric.Group([f,d],{isType:"Time",name:e.name?e.name:"Time",width:d.width,height:d.height,originX:"left",originY:"top",flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,scaleX:1,scaleY:1,id:e.id,left:e.left,top:e.top,angle:e.angle,imgText:e.text,isElasticSize:1,clipTo:function(t){t.rect(-d.width/2,-d.height/2,d.width,d.height)}}),r.item(0).set({width:d.width,height:d.height}),A.abrupt("break",70);case 53:return A.next=55,n.createText(e.textdemo,e);case 55:return r=A.sent,A.abrupt("break",70);case 57:return A.next=59,n.createText(e.textdemo,e);case 59:return r=A.sent,A.abrupt("break",70);case 61:return v=new fabric.Rect({width:e.width,height:e.height,fill:e.textback,originX:"left",originY:"top",left:0,top:0,name:e.name?e.name:"Textbg",component:"component",isType:"Textbg",isDiff:"static",lockScalingFlip:!0}),e.textdemo=e.textdemo?e.textdemo:e.objects[1].text,g=new fabric.Textbox(e.textdemo,{left:0,top:0,originX:"left",originY:"top",centeredRotation:!0,fill:e.textcolor,width:e.width,fontFamily:e.fontFamily,fontSize:e.fontSize,name:e.name?e.name:"Textcentent",component:"component",isType:"Textcentent",isDiff:"static",splitByGrapheme:!0,lockScalingFlip:!0}),r=new fabric.Group([v,g],{flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,originX:"left",originY:"top",width:e.width,height:e.height,id:e.id,left:e.left,top:e.top,name:e.name?e.name:"Text",angle:e.angle,component:"component",isType:"Text",isDiff:"static",lockScalingFlip:!0,minScaleLimit:1e-4,textdemo:e.textdemo,textback:e.textback,textcolor:e.textcolor,clipTo:function(t){t.rect(-e.width/2,-e.height/2,e.width,e.height)}}),r.item(0).set({top:-r.item(0).height/2-.5,left:-r.item(0).width/2-.5}),e.originXY=e.originXY?e.originXY:["left","top"],"left"===e.originXY[0]?r.item(1).set({left:-r.item(0).width/2-.5,textAlign:"left"}):"center"===e.originXY[0]?r.item(1).set({left:-r.item(0).width/2-.5,textAlign:"center"}):"right"===e.originXY[0]&&r.item(1).set({left:-r.item(0).width/2-.5,textAlign:"right"}),"top"===e.originXY[1]?r.item(1).set({top:-r.item(0).height/2}):"center"===e.originXY[1]?r.item(1).set({top:-r.item(1).height/2}):"bottom"===e.originXY[1]&&r.item(1).set({top:r.item(0).height/2-r.item(1).height}),A.abrupt("break",70);case 70:return r.setCoords(),n.setActiveObject(r),n.canvas.add(r),n.setTop(),n.canvas.renderAll(),A.abrupt("return",r);case 76:case"end":return A.stop()}},A,n)}))()},createURLImage:function(t){var e=this,n=this.canvas;return new s.a(function(A,i){t.src=t.src?t.src:"./static/images/img.svg",fabric.Image.fromURL(t.src,function(i){i.set({id:t.id?t.id:"image",isType:"Image",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,height:t.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible}),i.hasControls=!0,i.hasBorders=!0,n.add(i),e.activecanvaobjs.push(i),e.activeobj=i,t&&t.registeObjectEvent&&w.a.registeObjectEvent(e,i),i.setCoords(),e.setActiveObject(i),n.renderAll.bind(n),e.setTop(),A(i)})})},createQrcode:function(t){var e=this,n=this.canvas;return new s.a(function(A,i){var o=void 0,r=jrQrcode.getQrBase64(t.imgText,{padding:t.margin?t.margin:2,width:t.width?t.width:80,height:t.height?t.height:80,correctLevel:QRErrorCorrectLevel.H,reverse:!1,background:t.background?t.background:"#ffffff",foreground:t.lineColor?t.lineColor:"#000000"}),a=document.createElement("img");a.src=r,a.id=(new Date).getTime(),a.onload=function(){o=new fabric.Image(a,{left:t.left,top:t.top,id:t.id,name:t.name?t.name:"Qrcode",angle:t.angle,component:"component",isType:"Qrcode",isDiff:"static",flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,originX:"left",originY:"top",lockUniScaling:!0,imgText:t.imgText}),n.add(o),e.setActiveObject(o),e.setTop(),n.renderAll(),A(o)},a.onerror=function(){i(new Error("qrcode error load!"))}})},createBarcode:function(t){var e=this,n=this.canvas;return new s.a(function(A,i){var o=void 0;t.imgText=t.imgText?t.imgText:"barcode123456789",t.barlineWidth=t.barlineWidth?t.barlineWidth:1,JsBarcode("#barcode",t.imgText,{format:t.format?t.format:"CODE128",lineColor:t.lineColor?t.lineColor:"#000000",margin:t.margin?t.margin:0,width:t.barlineWidth,height:t.height?t.height:20,displayValue:!1}),t.originXY=t.originXY?t.originXY:["left","top"],document.getElementById("barcode").onload=function(){var i=new fabric.Image(document.getElementById("barcode"),{id:t.id,width:document.getElementById("barcode").width,height:t.height,name:t.name?t.name:"barcodeimg",angle:t.angle,component:"component",isType:"barcodeimg",isDiff:"static",flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,scaleX:1,scaleY:1,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,imgText:t.imgText}),r=new fabric.Rect({width:t.width,height:t.height,fill:"#f1edea",originX:"center",originY:"center",left:0,top:0,name:t.name?t.name:"barcodebg",angle:t.angle,component:"component",isType:"barcodebg",isDiff:"static"});o=new fabric.Group([r,i],{originX:"left",originY:"top",left:t.left,top:t.top,originXY:[t.originXY[0],"top"],id:t.id,name:t.name?t.name:"Barcode",angle:t.angle,component:"component",isType:"Barcode",isDiff:"static",width:t.width,height:t.height,imgText:t.imgText,barlineWidth:t.barlineWidth,lockRotation:!0,flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0}),n.add(o);var a=0,s=t.width,c=document.getElementById("barcode").width;"left"===t.originXY[0]?a=s<c?Math.abs(c-s)/2:-Math.abs(c-s)/2:"center"===t.originXY[0]?a=0:"right"===t.originXY[0]&&(a=s<c?-Math.abs(c-s)/2:Math.abs(c-s)/2),o.item(0).set({left:"-50%"}),o.item(1).set({top:0,left:a}),e.setActiveObject(o),e.setTop(),n.renderAll(),A(o)},document.getElementById("barcode").onerror=function(){i(new Error("barcode error load!"))}})},changeQrcodeImage:function(t){if("Qrcode"===t.isType){var e=JSON.parse(y()(t));this.removeObj(t);var n=e.left+this.xLeft,A=e.top+this.yTop;this.createElement(t.isType,h()({},t,{left:n,top:A,width:parseInt(t.width*t.scaleX),height:parseInt(t.height*t.scaleY),scaleX:1,scaleY:1}))}},changeBarcodeImage:function(t){var e=this;return m()(p.a.mark(function n(){var A,i,o,r,a,s;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return A=t.barlineWidth,A=parseInt(t.barlineWidth*(t.width*t.scaleX/(t.item(1).width*t.item(1).scaleX))),0===A&&(A=1),console.log("条码线宽：",A),t.set({width:t.width*t.scaleX,scaleX:1,barlineWidth:A}),t.item(0).set({width:t.width*t.scaleX,scaleX:1}),i={format:t.item(1).format?t.item(1).format:"CODE128",lineColor:"#000000",margin:0,lineWidth:A,height:t.item(1).height?t.item(1).height:20},n.next=9,e.drawbarcode(t.imgText,i);case 9:o=n.sent,r=0,a=t.width,s=document.getElementById("barcode").width,"left"===t.originXY[0]?r=a<s?Math.abs(s-a)/2:-Math.abs(s-a)/2:"center"===t.originXY[0]?r=0:"right"===t.originXY[0]&&(r=a<s?-Math.abs(s-a)/2:Math.abs(s-a)/2),t.item(1)._element.src=o,t.item(1).set({left:r,width:t.item(1)._element.width,scaleX:1}),e.canvas.requestRenderAll(),e.canvas.renderAll(),e.setZoom(e.canvasZoom+1e-5);case 19:case"end":return n.stop()}},n,e)}))()},renderCanvas:function(){this.canvas.requestRenderAll(),this.canvas.renderAll()},todata:function(){var t=this;return m()(p.a.mark(function e(){var n,A;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.discardActive(),n=canvas.toDataURL({format:"jpeg",multiplier:2}),e.next=4,t.cutImg(n,-t.xLeft,-t.yTop,-t.xLeft+t.width,-t.yTop+t.height);case 4:A=e.sent,t.$emit("previewshow",A);case 6:case"end":return e.stop()}},e,t)}))()},cutImg:function(t,e,n,A,i){return e*=this.canvasZoom,n*=this.canvasZoom,A*=this.canvasZoom,i*=this.canvasZoom,new s.a(function(o,r){var a=A-e,s=i-n,c=canvas.getContext("2d"),l=new Image;l.src=t;var u=document.createElement("canvas"),h=u.getContext("2d");l.onload=function(){c.drawImage(l,0,0,canvas.width,canvas.height);var t=c.getImageData(e,n,a,s);u.width=a,u.height=s,h.putImageData(t,0,0,0,0,u.width,u.height);var A=u.toDataURL("image/png");o(A)},l.onerror=function(){r(new Error("Could not load image at "))}})},getFontImgdata:function(t,e,n,A,o){return new s.a(function(a,s){var c=new fabric.Canvas("fontcanvas",{preserveObjectStacking:!0}),l=new fabric.Text(t,{fill:"#ff0",splitByGrapheme:!0,lockScalingFlip:!0,fontFamily:e,fontSize:n,originX:"left",originY:"top",scaleX:A,scaleY:o});c.setWidth(l.width*A),c.setHeight(l.height*o),c.backgroundColor="#000",l.set({left:0,top:0}),l.setCoords(),c.add(l),c.requestRenderAll(),c.renderAll();for(var u=c.getContext("2d"),h=u.getImageData(0,0,l.width*A,l.height*o).data,f=u.getImageData(0,0,l.width*A,l.height*o).width,d=u.getImageData(0,0,l.width*A,l.height*o).height,v=[],p=[],g=[],m=0;m<2;m++)v[m]=[];for(var b=[],y=0,x=h.length;y<x;y+=4){var w=h[y],j=h[y+1],k=h[y+2];h[y+3];w+" "+j+" "+k=="0 0 0"?b.push(0):b.push(1)}for(var _=[],T=0;T<b.length;T+=f){_[T/f]=[];for(var E=0;E<f;E++)_[T/f][E]=b[T+E],1===b[T+E]&&(g.push(parseInt(T/f)),p.push(E))}var C=c.toDataURL({format:"jpeg",multiplier:1}),O=new r.a(p),L=i()(O),S=L.sort(function(t,e){return t-e}),X=S[S.length-1]-S[0]+1,Y=new r.a(g),R=i()(Y),I=R.sort(function(t,e){return t-e}),B=I[I.length-1]-I[0]+1,Z={offset:[S[0]-0,f-S[S.length-1]-1,I[0]-0,d-I[I.length-1]-1],fontwidth:X,fontheight:B,fontSize:n,width:f,height:d,url:C,lines:_},P=new Image;P.src=C,P.onload=function(){a(Z)}})},createRect:function(t){t=d()({width:50,height:30,left:-this.xLeft,top:-this.yTop,padding:0,angle:0,scaleX:1,scaleY:1},t);var e=new fabric.Rect(h()({},t,{left:-this.xLeft+t.left,top:-this.yTop+t.top,id:t.id,name:t.name?t.name:"Rect",component:"component",isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fill?t.fill:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"#000000",stroke:t.stroke?t.stroke:"rgba(0,0,0,0)",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0}));return e.setCoords(),this.canvas.add(e),this.setTop(),this.canvas.renderAll(),e},createText:function(t,e){e=d()({width:50,height:30,left:-this.xLeft,top:-this.yTop,padding:0,angle:0,scaleX:1,scaleY:1},e);var n=new fabric.Textbox(t,h()({},e,{splitByGrapheme:!0,width:e.width,height:e.height,left:e.left,top:e.top,id:e.id,name:e.name?e.name:"Text",component:"component",isType:"Text",isDiff:"static",textAlign:"left",selectable:!1!==e.selectable||e.selectable,visible:!1!==e.visible||e.visible,fill:e.fill?e.fill:"#000",fillColor:e.fillColor?e.fillColor:"#000",backgroundColor:e.backgroundColor?e.backgroundColor:"rgba(0,0,0,0)",stroke:e.stroke?e.stroke:"rgba(0,0,0,0)",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",lockSkewingX:!0,lockSkewingY:!0,stopContextMenu:!0}));return n.setCoords(),this.canvas.add(n),this.setTop(),this.canvas.renderAll(),n},createText2:function(t,e){e=d()({width:50,height:30,left:-this.xLeft,top:-this.yTop,padding:0,angle:0,scaleX:1,scaleY:1},e);var n=new fabric.Textbox(t,h()({},e,{left:-this.xLeft+e.left,top:-this.yTop+e.top,id:e.id,name:e.name?e.name:"Text",component:"component",isType:"Text",isDiff:"static",textAlign:"left",selectable:!1!==e.selectable||e.selectable,visible:!1!==e.visible||e.visible,fill:e.fill?e.fill:"#000",fillColor:e.fillColor?e.fillColor:"#000",backgroundColor:e.backgroundColor?e.backgroundColor:"rgba(0,0,0,0)",stroke:e.stroke?e.stroke:"rgba(0,0,0,0)",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",lockSkewingX:!0,lockSkewingY:!0,stopContextMenu:!0}));return n.setCoords(),this.canvas.add(n),this.setTop(),this.canvas.renderAll(),n},returnXY:function(){return{x:this.xLeft,y:this.yTop}},setCompunentsNoselect:function(){var t=this.getObjects();for(var e in t)"component"===t[e].component&&(t[e].set("selectable",!1),this.canvas.requestRenderAll(),this.canvas.renderAll())},setCompunentsCanselect:function(){var t=this.getObjects();for(var e in t)"component"===t[e].component&&!1!==t[e].visible&&(t[e].set("selectable",!0),this.canvas.requestRenderAll(),this.canvas.renderAll())},setCursor:function(t){fabric.Canvas.prototype.defaultCursor=1==t?"url('data:image/ico;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW1tZ4b29v/7Gxsf+hoaHn////IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANbW1nhvb2//sbGx/6Ghoef///8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vb2LJeXl8VpaWnzx8fHif///wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G/v7+LP///0z///8YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////5////8P///+B////Af///gH///wD///4B///8A///+Af///AP///gH///wD///4B///8A///OAf//xgP//8QH///ED///xD///8b////H///gAB//4AAP/+AAD///h////8f////H////x////8f////H////x////////8=') ,auto":"default"},getZoom:function(){return this.canvas.getZoom()}}}},function(t,e,n){t.exports={default:n(64),__esModule:!0}},function(t,e,n){var A=n(9),i=n(70),o=n(40),r=n(29)("IE_PROTO"),a=function(){},s=function(){var t,e=n(25)("iframe"),A=o.length;for(e.style.display="none",n(41).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;A--;)delete s.prototype[o[A]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=A(t),n=new a,a.prototype=null,n[r]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var A=n(71),i=n(40);t.exports=Object.keys||function(t){return A(t,i)}},function(t,e,n){var A=n(1),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:A.version,mode:n(24)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var A=n(0).document;t.exports=A&&A.documentElement},function(t,e,n){var A=n(9);t.exports=function(t,e,n,i){try{return i?e(A(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&A(o.call(t)),e}}},function(t,e,n){var A=n(13),i=n(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(A.Array===t||o[i]===t)}},function(t,e,n){var A=n(31),i=n(2)("iterator"),o=n(13);t.exports=n(1).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[A(t)]}},function(t,e,n){var A=n(2)("iterator"),i=!1;try{var o=[7][A]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],r=o[A]();r.next=function(){return{done:n=!0}},o[A]=function(){return r},t(o)}catch(t){}return n}},function(t,e){},function(t,e,n){n(79);for(var A=n(0),i=n(8),o=n(13),r=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var c=a[s],l=A[c],u=l&&l.prototype;u&&!u[r]&&i(u,r,c),o[c]=o.Array}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var A=n(0),i=n(1),o=n(4),r=n(6),a=n(2)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:A[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var A=n(30)("meta"),i=n(5),o=n(12),r=n(4).f,a=0,s=Object.isExtensible||function(){return!0},c=!n(11)(function(){return s(Object.preventExtensions({}))}),l=function(t){r(t,A,{value:{i:"O"+ ++a,w:{}}})},u=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,A)){if(!s(t))return"F";if(!e)return"E";l(t)}return t[A].i},h=function(t,e){if(!o(t,A)){if(!s(t))return!0;if(!e)return!1;l(t)}return t[A].w},f=function(t){return c&&d.NEED&&s(t)&&!o(t,A)&&l(t),t},d=t.exports={KEY:A,NEED:!1,fastKey:u,getWeak:h,onFreeze:f}},function(t,e,n){var A=n(5);t.exports=function(t,e){if(!A(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){t.exports={default:n(95),__esModule:!0}},function(t,e,n){var A=n(9),i=n(10),o=n(2)("species");t.exports=function(t,e){var n,r=A(t).constructor;return void 0===r||void 0==(n=A(r)[o])?e:i(n)}},function(t,e,n){var A,i,o,r=n(7),a=n(97),s=n(41),c=n(25),l=n(0),u=l.process,h=l.setImmediate,f=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,p=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){m.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++p]=function(){a("function"==typeof t?t:Function(t),e)},A(p),p},f=function(t){delete g[t]},"process"==n(14)(u)?A=function(t){u.nextTick(r(m,t,1))}:v&&v.now?A=function(t){v.now(r(m,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,A=r(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(A=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):A="onreadystatechange"in c("script")?function(t){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),m.call(t)}}:function(t){setTimeout(r(m,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var A=n(9),i=n(5),o=n(34);t.exports=function(t,e){if(A(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports={default:n(104),__esModule:!0}},function(t,e,n){"use strict";var A=n(125);e.a={name:"contextmenu",components:{Tree:A.a},data:function(){return{floatDirection:"float-statue-1"}},props:{contextMenuData:{type:Object,requred:!1,default:function(){return{menuName:null,axis:{x:null,y:null},menulists:[{fnHandler:"",icoName:"",btnName:""}]}}},transferIndex:{type:Number,default:0}},watch:{"contextMenuData.axis":function(t){var e=t.x,n=t.y,A=window.innerWidth,i=window.innerHeight,o=this,r=o.transferIndex,a="vue-contextmenuName-"+o.contextMenuData.menuName,s=document.getElementsByClassName(a)[r];s.style.display="block";var c=30*this.contextMenuData.menulists.length;s.style.top=(n+c>i?i-c:n)+"px",s.style.left=(e+150>A?A-150:e)+"px",document.addEventListener("mouseup",function(t){0!==t.button&&2!==t.button||(s.style.display="none")},!1),e+300>A&&n+2*c>i&&(this.floatDirection="float-status-4"),e+300<A&&n+2*c>i&&(this.floatDirection="float-status-1"),e+300>A&&n+2*c<i&&(this.floatDirection="float-status-3"),e+300<A&&n+2*c<i&&(this.floatDirection="float-status-2")}},methods:{fnHandler:function(t){this.$emit(t.fnHandler)}}}},function(t,e,n){"use strict";e.a={name:"tree-child-component",props:["itemchildren","float"],methods:{fnHandler:function(t){this.$emit("childhandler",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var A=n(61);n.d(e,"FabricCanvas",function(){return A.a})},function(t,e,n){"use strict";var A=n(62),i={install:function(t){t.component(A.a.name,A.a)}};e.a=i},function(t,e,n){"use strict";function A(t){n(63)}var i=n(35),o=n(129),r=n(19),a=A,s=r(i.a,o.a,!1,a,"data-v-e0f47e54",null);e.a=s.exports},function(t,e){},function(t,e,n){n(20),n(75),t.exports=n(1).Array.from},function(t,e,n){var A=n(21),i=n(22);t.exports=function(t){return function(e,n){var o,r,a=String(i(e)),s=A(n),c=a.length;return s<0||s>=c?t?"":void 0:(o=a.charCodeAt(s),o<55296||o>56319||s+1===c||(r=a.charCodeAt(s+1))<56320||r>57343?t?a.charAt(s):o:t?a.slice(s,s+2):r-56320+(o-55296<<10)+65536)}}},function(t,e,n){t.exports=!n(6)&&!n(11)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var A=n(5);t.exports=function(t,e){if(!A(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!A(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!A(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!A(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(8)},function(t,e,n){"use strict";var A=n(37),i=n(26),o=n(17),r={};n(8)(r,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=A(r,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var A=n(4),i=n(9),o=n(38);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,r=o(e),a=r.length,s=0;a>s;)A.f(t,n=r[s++],e[n]);return t}},function(t,e,n){var A=n(12),i=n(27),o=n(72)(!1),r=n(29)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)n!=r&&A(a,n)&&c.push(n);for(;e.length>s;)A(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var A=n(27),i=n(16),o=n(73);t.exports=function(t){return function(e,n,r){var a,s=A(e),c=i(s.length),l=o(r,c);if(t&&n!=n){for(;c>l;)if((a=s[l++])!=a)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var A=n(21),i=Math.max,o=Math.min;t.exports=function(t,e){return t=A(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var A=n(12),i=n(18),o=n(29)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),A(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){"use strict";var A=n(7),i=n(3),o=n(18),r=n(42),a=n(43),s=n(16),c=n(76),l=n(44);i(i.S+i.F*!n(45)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,u,h=o(t),f="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,p=void 0!==v,g=0,m=l(h);if(p&&(v=A(v,d>2?arguments[2]:void 0,2)),void 0==m||f==Array&&a(m))for(e=s(h.length),n=new f(e);e>g;g++)c(n,g,p?v(h[g],g):h[g]);else for(u=m.call(h),n=new f;!(i=u.next()).done;g++)c(n,g,p?r(u,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var A=n(4),i=n(26);t.exports=function(t,e,n){e in t?A.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){t.exports={default:n(78),__esModule:!0}},function(t,e,n){n(46),n(20),n(47),n(81),n(88),n(91),n(93),t.exports=n(1).Set},function(t,e,n){"use strict";var A=n(80),i=n(48),o=n(13),r=n(27);t.exports=n(23)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,A("keys"),A("values"),A("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var A=n(82),i=n(51);t.exports=n(83)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return A.def(i(this,"Set"),t=0===t?0:t,t)}},A)},function(t,e,n){"use strict";var A=n(4).f,i=n(37),o=n(32),r=n(7),a=n(33),s=n(15),c=n(23),l=n(48),u=n(49),h=n(6),f=n(50).fastKey,d=n(51),v=h?"_s":"size",p=function(t,e){var n,A=f(e);if("F"!==A)return t._i[A];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,A){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=A&&s(A,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,A=t._f;A;A=A.n)A.r=!0,A.p&&(A.p=A.p.n=void 0),delete n[A.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),A=p(n,t);if(A){var i=A.n,o=A.p;delete n._i[A.i],A.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==A&&(n._f=i),n._l==A&&(n._l=o),n[v]--}return!!A},forEach:function(t){d(this,e);for(var n,A=r(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(A(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!p(d(this,e),t)}}),h&&A(l.prototype,"size",{get:function(){return d(this,e)[v]}}),l},def:function(t,e,n){var A,i,o=p(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:A=t._l,n:void 0,r:!1},t._f||(t._f=o),A&&(A.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:p,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),u(e)}}},function(t,e,n){"use strict";var A=n(0),i=n(3),o=n(50),r=n(11),a=n(8),s=n(32),c=n(15),l=n(33),u=n(5),h=n(17),f=n(4).f,d=n(84)(0),v=n(6);t.exports=function(t,e,n,p,g,m){var b=A[t],y=b,x=g?"set":"add",w=y&&y.prototype,j={};return v&&"function"==typeof y&&(m||w.forEach&&!r(function(){(new y).entries().next()}))?(y=e(function(e,n){l(e,y,t,"_c"),e._c=new b,void 0!=n&&c(n,g,e[x],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!m||"clear"!=t)&&a(y.prototype,t,function(n,A){if(l(this,y,t),!e&&m&&!u(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,A);return e?this:i})}),m||f(y.prototype,"size",{get:function(){return this._c.size}})):(y=p.getConstructor(e,t,g,x),s(y.prototype,n),o.NEED=!0),h(y,t),j[t]=y,i(i.G+i.W+i.F,j),m||p.setStrong(y,t,g),y}},function(t,e,n){var A=n(7),i=n(28),o=n(18),r=n(16),a=n(85);t.exports=function(t,e){var n=1==t,s=2==t,c=3==t,l=4==t,u=6==t,h=5==t||u,f=e||a;return function(e,a,d){for(var v,p,g=o(e),m=i(g),b=A(a,d,3),y=r(m.length),x=0,w=n?f(e,y):s?f(e,0):void 0;y>x;x++)if((h||x in m)&&(v=m[x],p=b(v,x,g),t))if(n)w[x]=p;else if(p)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(l)return!1;return u?-1:c||l?l:w}}},function(t,e,n){var A=n(86);t.exports=function(t,e){return new(A(t))(e)}},function(t,e,n){var A=n(5),i=n(87),o=n(2)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),A(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var A=n(14);t.exports=Array.isArray||function(t){return"Array"==A(t)}},function(t,e,n){var A=n(3);A(A.P+A.R,"Set",{toJSON:n(89)("Set")})},function(t,e,n){var A=n(31),i=n(90);t.exports=function(t){return function(){if(A(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var A=n(15);t.exports=function(t,e){var n=[];return A(t,!1,n.push,n,e),n}},function(t,e,n){n(92)("Set")},function(t,e,n){"use strict";var A=n(3);t.exports=function(t){A(A.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(94)("Set")},function(t,e,n){"use strict";var A=n(3),i=n(10),o=n(7),r=n(15);t.exports=function(t){A(A.S,t,{from:function(t){var e,n,A,a,s=arguments[1];return i(this),e=void 0!==s,e&&i(s),void 0==t?new this:(n=[],e?(A=0,a=o(s,arguments[2],2),r(t,!1,function(t){n.push(a(t,A++))})):r(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(46),n(20),n(47),n(96),n(100),n(101),t.exports=n(1).Promise},function(t,e,n){"use strict";var A,i,o,r,a=n(24),s=n(0),c=n(7),l=n(31),u=n(3),h=n(5),f=n(10),d=n(33),v=n(15),p=n(53),g=n(54).set,m=n(98)(),b=n(34),y=n(55),x=n(99),w=n(56),j=s.TypeError,k=s.process,_=k&&k.versions,T=_&&_.v8||"",E=s.Promise,C="process"==l(k),O=function(){},L=i=b.f,S=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(2)("species")]=function(t){t(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==T.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),X=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},Y=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var A=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,r,a=i?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{a?(i||(2==t._h&&B(t),t._h=1),!0===a?n=A:(l&&l.enter(),n=a(A),l&&(l.exit(),r=!0)),n===e.promise?c(j("Promise-chain cycle")):(o=X(n))?o.call(n,s,c):s(n)):c(A)}catch(t){l&&!r&&l.exit(),c(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){g.call(s,function(){var e,n,A,i=t._v,o=I(t);if(o&&(e=y(function(){C?k.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(A=s.console)&&A.error&&A.error("Unhandled promise rejection",i)}),t._h=C||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){g.call(s,function(){var e;C?k.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},Z=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),Y(e,!0))},P=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=X(t))?m(function(){var A={_w:n,_d:!1};try{e.call(t,c(P,A,1),c(Z,A,1))}catch(t){Z.call(A,t)}}):(n._v=t,n._s=1,Y(n,!1))}catch(t){Z.call({_w:n,_d:!1},t)}}};S||(E=function(t){d(this,E,"Promise","_h"),f(t),A.call(this);try{t(c(P,this,1),c(Z,this,1))}catch(t){Z.call(this,t)}},A=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},A.prototype=n(32)(E.prototype,{then:function(t,e){var n=L(p(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Y(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new A;this.promise=t,this.resolve=c(P,t,1),this.reject=c(Z,t,1)},b.f=L=function(t){return t===E||t===r?new o(t):i(t)}),u(u.G+u.W+u.F*!S,{Promise:E}),n(17)(E,"Promise"),n(49)("Promise"),r=n(1).Promise,u(u.S+u.F*!S,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(a||!S),"Promise",{resolve:function(t){return w(a&&this===r?E:this,t)}}),u(u.S+u.F*!(S&&n(45)(function(t){E.all(t).catch(O)})),"Promise",{all:function(t){var e=this,n=L(e),A=n.resolve,i=n.reject,o=y(function(){var n=[],o=0,r=1;v(t,!1,function(t){var a=o++,s=!1;n.push(void 0),r++,e.resolve(t).then(function(t){s||(s=!0,n[a]=t,--r||A(n))},i)}),--r||A(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),A=n.reject,i=y(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,A)})});return i.e&&A(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var A=void 0===n;switch(e.length){case 0:return A?t():t.call(n);case 1:return A?t(e[0]):t.call(n,e[0]);case 2:return A?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return A?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return A?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var A=n(0),i=n(54).set,o=A.MutationObserver||A.WebKitMutationObserver,r=A.process,a=A.Promise,s="process"==n(14)(r);t.exports=function(){var t,e,n,c=function(){var A,i;for(s&&(A=r.domain)&&A.exit();t;){i=t.fn,t=t.next;try{i()}catch(A){throw t?n():e=void 0,A}}e=void 0,A&&A.enter()};if(s)n=function(){r.nextTick(c)};else if(!o||A.navigator&&A.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(A,c)};else{var u=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=u=!u}}return function(A){var i={fn:A,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var A=n(0),i=A.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var A=n(3),i=n(1),o=n(0),r=n(53),a=n(56);A(A.P+A.R,"Promise",{finally:function(t){var e=r(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var A=n(3),i=n(34),o=n(55);A(A.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";e.__esModule=!0;var A=n(36),i=function(t){return t&&t.__esModule?t:{default:t}}(A);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){"use strict";e.__esModule=!0;var A=n(57),i=function(t){return t&&t.__esModule?t:{default:t}}(A);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])}return t}},function(t,e,n){n(105),t.exports=n(1).Object.assign},function(t,e,n){var A=n(3);A(A.S+A.F,"Object",{assign:n(106)})},function(t,e,n){"use strict";var A=n(6),i=n(38),o=n(107),r=n(108),a=n(18),s=n(28),c=Object.assign;t.exports=!c||n(11)(function(){var t={},e={},n=Symbol(),A="abcdefghijklmnopqrst";return t[n]=7,A.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=A})?function(t,e){for(var n=a(t),c=arguments.length,l=1,u=o.f,h=r.f;c>l;)for(var f,d=s(arguments[l++]),v=u?i(d).concat(u(d)):i(d),p=v.length,g=0;p>g;)f=v[g++],A&&!h.call(d,f)||(n[f]=d[f]);return n}:c},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){t.exports=n(110)},function(t,e,n){var A=function(){return this}()||Function("return this")(),i=A.regeneratorRuntime&&Object.getOwnPropertyNames(A).indexOf("regeneratorRuntime")>=0,o=i&&A.regeneratorRuntime;if(A.regeneratorRuntime=void 0,t.exports=n(111),i)A.regeneratorRuntime=o;else try{delete A.regeneratorRuntime}catch(t){A.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,A){var o=e&&e.prototype instanceof i?e:i,r=Object.create(o.prototype),a=new f(A||[]);return r._invoke=c(t,n,a),r}function A(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function r(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function e(n,i,o,r){var a=A(t[n],t,i);if("throw"!==a.type){var s=a.arg,c=s.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,r)},function(t){e("throw",t,o,r)}):Promise.resolve(c).then(function(t){s.value=t,o(s)},r)}r(a.arg)}function n(t,n){function A(){return new Promise(function(A,i){e(t,n,A,i)})}return i=i?i.then(A,A):A()}var i;this._invoke=n}function c(t,e,n){var i=_;return function(o,r){if(i===E)throw new Error("Generator is already running");if(i===C){if("throw"===o)throw r;return v()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=l(a,n);if(s){if(s===O)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===_)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=E;var c=A(t,e,n);if("normal"===c.type){if(i=n.done?C:T,c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=C,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===p){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=p,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=A(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=p),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function u(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset(!0)}function d(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,A=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=p,e.done=!0,e};return A.next=A}}return{next:v}}function v(){return{value:p,done:!0}}var p,g=Object.prototype,m=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},y=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",j="object"==typeof t,k=e.regeneratorRuntime;if(k)return void(j&&(t.exports=k));k=e.regeneratorRuntime=j?t.exports:{},k.wrap=n;var _="suspendedStart",T="suspendedYield",E="executing",C="completed",O={},L={};L[y]=function(){return this};var S=Object.getPrototypeOf,X=S&&S(S(d([])));X&&X!==g&&m.call(X,y)&&(L=X);var Y=r.prototype=i.prototype=Object.create(L);o.prototype=Y.constructor=r,r.constructor=o,r[w]=o.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(Y),t},k.awrap=function(t){return{__await:t}},a(s.prototype),s.prototype[x]=function(){return this},k.AsyncIterator=s,k.async=function(t,e,A,i){var o=new s(n(t,e,A,i));return k.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(Y),Y[w]="Generator",Y[y]=function(){return this},Y.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var A=e.pop();if(A in t)return n.value=A,n.done=!1,n}return n.done=!0,n}},k.values=d,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,A){return o.type="throw",o.arg=t,n.next=e,A&&(n.method="next",n.arg=p),!!A}if(this.done)throw t;for(var n=this,A=this.tryEntries.length-1;A>=0;--A){var i=this.tryEntries[A],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var r=m.call(i,"catchLoc"),a=m.call(i,"finallyLoc");if(r&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var A=this.tryEntries[n];if(A.tryLoc<=this.prev&&m.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var i=A;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var A=n.completion;if("throw"===A.type){var i=A.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=p),O}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";e.__esModule=!0;var A=n(52),i=function(t){return t&&t.__esModule?t:{default:t}}(A);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function A(o,r){try{var a=e[o](r),s=a.value}catch(t){return void n(t)}if(!a.done)return i.default.resolve(s).then(function(t){A("next",t)},function(t){A("throw",t)});t(s)}return A("next")})}}},function(t,e,n){t.exports={default:n(114),__esModule:!0}},function(t,e,n){var A=n(1),i=A.JSON||(A.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";n.d(e,"a",function(){return A});var A=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}();!function(){document.removeEventListener}()},function(t,e,n){"use strict";var A=n(117),i=n.n(A),o=n(118),r=n.n(o),a=function(){function t(){i()(this,t)}return r()(t,[{key:"registeObjectEvent",value:function(t,e){console.log("registeObjectEvent"),e.on("mousedown",function(n){t.$emit("object:mousedown",e,n)}),e.on("mouseup",function(n){t.$emit("object:mouseup",e,n)}),e.on("mousemove",function(n){t.$emit("object:mousemove",e,n)}),e.on("mouseover",function(n){t.$emit("object:mouseover",e,n)}),e.on("mouseout",function(n){t.$emit("object:mouseout",e,n)}),e.on("mousedblclick",function(n){t.$emit("object:mousedblclick",e,n)}),e.on("mousewheel",function(n){t.$emit("object:mousewheel",e,n)})}}]),t}(),s=new a;e.a=s},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var A=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(A);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var A=e[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),(0,i.default)(t,A.key,A)}}return function(e,n,A){return n&&t(e.prototype,n),A&&t(e,A),e}}()},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){n(121);var A=n(1).Object;t.exports=function(t,e,n){return A.defineProperty(t,e,n)}},function(t,e,n){var A=n(3);A(A.S+A.F*!n(6),"Object",{defineProperty:n(4).f})},function(t,e,n){"use strict";function A(t){function e(t){A(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}function n(t){A(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}function A(t,e,n,A){r.save(),r.lineWidth=s,r.strokeStyle=c,r.setLineDash([5,1]),r.beginPath(),r.moveTo((t+o[4])*l,(e+o[5])*l),r.lineTo((n+o[4])*l,(A+o[5])*l),r.stroke(),r.restore()}function i(t,e){t=Math.round(t),e=Math.round(e);for(var n=t-a,A=t+a;n<=A;n++)if(n===e)return!0;return!1}var o,r=t.getSelectionContext(),a=5,s=1,c="rgb(0,98,178,0.6)",l=1,u=[],h=[];t.on("mouse:down",function(){o=t.viewportTransform,l=t.getZoom()}),t.on("object:moving",function(e){var n=e.target,A=t.getObjects(),r=n.getCenterPoint(),a=r.x,s=r.y,c=n.getBoundingRect(),l=c.height/o[3],f=c.width/o[0],d=!1,v=!1;if(t._currentTransform){for(var p=A.length;p--;)if(A[p]!==n&&0!==A[p].opacity&&!1!==A[p].visible&&!1!==A[p].selectable){var g=A[p].getCenterPoint(),m=g.x,b=g.y,y=A[p].getBoundingRect(),x=y.height/o[3],w=y.width/o[0];i(m,a)&&(v=!0,u.push({x:m,y1:b<s?b-x/2-5:b+x/2+5,y2:s>b?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(m,s),"center","center")),i(m-w/2,a-f/2)&&(v=!0,u.push({x:m-w/2,y1:b<s?b-x/2-5:b+x/2+5,y2:s>b?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(m-w/2+f/2,s),"center","center")),i(m+w/2,a+f/2)&&(v=!0,u.push({x:m+w/2,y1:b<s?b-x/2-5:b+x/2+5,y2:s>b?s+l/2+5:s-l/2-5}),n.setPositionByOrigin(new fabric.Point(m+w/2-f/2,s),"center","center")),i(b,s)&&(d=!0,h.push({y:b,x1:m<a?m-w/2-5:m+w/2+5,x2:a>m?a+f/2+5:a-f/2-5}),n.setPositionByOrigin(new fabric.Point(a,b),"center","center")),i(b-x/2,s-l/2)&&(d=!0,h.push({y:b-x/2,x1:m<a?m-w/2-5:m+w/2+5,x2:a>m?a+f/2+5:a-f/2-5}),n.setPositionByOrigin(new fabric.Point(a,b-x/2+l/2),"center","center")),i(b+x/2,s+l/2)&&(d=!0,h.push({y:b+x/2,x1:m<a?m-w/2-5:m+w/2+5,x2:a>m?a+f/2+5:a-f/2-5}),n.setPositionByOrigin(new fabric.Point(a,b+x/2-l/2),"center","center"))}d||(h.length=0),v||(u.length=0)}}),t.on("before:render",function(){void 0!==t._target&&t.clearContext(t.contextTop)}),t.on("after:render",function(){for(var t=u.length;t--;)e(u[t]);for(var t=h.length;t--;)n(h[t]);u.length=h.length=0}),t.on("mouse:up",function(){u.length=h.length=0,t.renderAll()})}e.a=A},function(t,e,n){"use strict";function A(t){n(124)}var i=n(58),o=n(128),r=n(19),a=A,s=r(i.a,o.a,!1,a,"data-v-3b6631fc",null);e.a=s.exports},function(t,e){},function(t,e,n){"use strict";function A(t){n(126)}var i=n(59),o=n(127),r=n(19),a=A,s=r(i.a,o.a,!1,a,"data-v-8b5ed618",null);e.a=s.exports},function(t,e){},function(t,e,n){"use strict";var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"child-ul-wrapper",class:t.float},t._l(t.itemchildren,function(e){return n("li",{key:e.name,staticClass:"child-li-wrapper"},[e.children&&e.children.length>0?n("div",{staticClass:"has-child"},[n("div",{staticClass:"parent-name btn-wrapper-simple"},[n("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),n("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))]),t._v(" "),n("i",{staticClass:"icon"})]),t._v(" "),n("tree-child-component",{attrs:{itemchildren:e.children,float:t.float},on:{childhandler:t.fnHandler}})],1):n("div",[n("div",{staticClass:"no-child-btn btn-wrapper-simple",on:{click:function(n){return n.stopPropagation(),t.fnHandler(e)}}},[n("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),n("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},i=[],o={render:A,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+t.contextMenuData.menuName,on:{contextmenu:function(t){t.stopPropagation()}}},t._l(t.contextMenuData.menulists,function(e){return n("li",{key:e.btnName,staticClass:"context-menu-list"},[e.children&&e.children.length>0?n("div",{staticClass:"has-child"},[n("div",{staticClass:"parent-name btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled}},[n("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),n("span",{staticClass:"nav-name-right hoverbtn"},[t._v(t._s(e.btnName))]),t._v(" "),n("i",{staticClass:"icon hoverbicon"})]),t._v(" "),n("Tree",{attrs:{itemchildren:e.children,float:t.floatDirection},on:{childhandler:t.fnHandler}})],1):n("div",[n("div",{staticClass:"no-child-btn btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled},on:{click:function(n){n.stopPropagation(),!0===e.disabled||t.fnHandler(e)}}},[n("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),n("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},i=[],o={render:A,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bigbox",style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;",on:{contextmenu:t.showMenu}},[n("div",{staticStyle:{position:"fixed",top:"-9999999999px",left:"800px","z-index":"999999"}},[n("img",{attrs:{id:"barcode"}}),t._v(" "),n("img",{staticClass:"qrcodeImg",attrs:{id:"qrcode",src:t.qrcodeImg,alt:""}})]),t._v(" "),n("div",{staticClass:"xZhou",style:"width: "+(t.boxWidth-t.returnXYshowcanvas(t.showXzhou,t.showYzhou))+"px; visibility:"+t.returnXYshow(t.showXzhou)+";margin-left:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;",attrs:{id:"xZhou"}},[n("div",{staticClass:"x-line",style:"width: "+(t.width>t.boxWidth?t.width-t.translateX:t.boxWidth-t.translateX)+"px;transform-origin:left; transform:translateX("+((t.translateX+18)*t.canvasZoom-18)+"px) scaleX("+t.canvasZoom+") ;"},t._l(t.xScale,function(e,A){return n("span",{key:A,staticClass:"number",style:{left:50*A+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"yZhou",style:"height: "+(t.boxHeight-t.returnXYshowcanvas(t.showXzhou,t.showYzhou))+"px;  visibility:"+t.returnXYshow(t.showYzhou)+";margin-top:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;",attrs:{id:"yZhou"}},[n("div",{staticClass:"y-line",style:"height:"+(t.height>t.boxHeight?t.height-t.translateY:t.boxHeight-t.translateY)+"px; transform-origin:top; transform:translateY("+((t.translateY+18)*t.canvasZoom-18)+"px) scaleY("+t.canvasZoom+") ;top:"+t.returnXYshowcanvas(t.showXzhou,t.showYzhou)+"px;"},t._l(t.yScale,function(e,A){return n("span",{key:A,staticClass:"number",style:{top:50*A+2+"px"}},[t._v(t._s(e.id))])}),0)]),t._v(" "),n("div",{staticClass:"content",style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;",attrs:{id:"content"}},[n("GeminiScrollbar",{style:"width: "+t.boxWidth+"px;height:"+t.boxHeight+"px;"},[n("div",{staticClass:"black",style:"position: absolute; ",attrs:{id:"blackbox"}},[n("div",{staticClass:"yellow",style:"width: "+t.width*t.canvasZoom+"px;height:"+t.height*t.canvasZoom+"px; "},[n("input",{staticStyle:{position:"fixed",top:"-100px","z-index":"9999"},attrs:{type:"text",id:"code"}}),t._v(" "),n("div",{staticStyle:{position:"fixed",top:"-100px","z-index":"9999"}},[t._v(" "+t._s(t.style.fontFamily))]),t._v(" "),n("canvas",{attrs:{id:"canvas",width:t.width>t.boxWidth?t.width:t.boxWidth,height:t.height>t.boxHeight?t.height:t.boxHeight}}),t._v(" "),n("div",{staticStyle:{position:"fixed",top:"-10000px",left:"60px","z-index":"99999999999999999999999"}},[n("canvas",{attrs:{id:"fontcanvas"}})]),t._v(" "),t.textareashow?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textdata,expression:"textdata"}],staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","word-break":"break-all"},style:"position: fixed; top: "+(t.style.top-2)+"px; left: "+(t.style.left-1)+"px; z-index: 999999;  width: "+(t.style.width+1)+"px; height: "+t.style.height+"px; font-size: "+t.style.fontSize+"px;font-family:"+t.style.fontFamily+"; text-align:"+t.style.textAlign+";border:1px dashed #ddd;outline:none; lineHeight:"+t.style.lineHeight+"; transform: scale("+t.canvasZoom+"); transform-origin:left top;",attrs:{name:"text",id:"",cols:"30",rows:"10"},domProps:{value:t.textdata},on:{input:[function(e){e.target.composing||(t.textdata=e.target.value)},t.changetext]}}):t._e()])])]),t._v(" "),n("vue-context-menu",{attrs:{contextMenuData:t.contextMenuData},on:{toTopLayer:t.toTopLayer,toLastLayer:t.toLastLayer,toNextLayer:t.toNextLayer,toBottomLayer:t.toBottomLayer,removeEditObj:t.removeEditObj,copypaste:t.copypaste}})],1)])},i=[],o={render:A,staticRenderFns:i};e.a=o}])});