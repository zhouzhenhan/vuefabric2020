!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fabric"]=e():t["vue-fabric"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=14)}([function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var o=n(19),r=n.n(o),i=n(6),c=n.n(i),a=(n(45),n(51));e.a={name:"VueFabric",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},data:function(){return{name:"canvas",canvas:null}},created:function(){},beforeMount:function(){},mounted:function(){this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var t=this.canvas;console.log(t),fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAB3RJTUUH3QYBCzMMpADxbgAAAAlwSFlzAAALEgAACxIB0t1+/AAAAARnQU1BAACxjwv8YQUAAAJvSURBVHjaXVRLaxNRFP7mkZjGUqRWJUZbX9AEikK1QtEsdCFIULLygdCN9BcIgkhBXKoIKr5wo7hyo1FcSBaiohFfO7WIQlAXolKL0po2k5nxu+femUw9l/s833mfGQsdsjgC7t1Yjz50YRqf8D3xHu2GbF6BEVzFJGYRcnj4gnvYj0WGayeUy2U5rsMXqI8W5tHmKeB8jM2C6UJZhA18hA6EBLVEJBot2gkxgzFCb+MZxA2beoZQQ47sFF/ep+vuz9Bu93ujWEN+Gy5+4zM24j72aJFuvKSeec5Gz8HdWaBg9fJ925LFhxmHctEXB+8odxzOYwb+Ir9asmFTpwvbpdDaHD7Ert7SESxFQ/xt9Azw5vZbIqKzlsIEmnTZwxwRN7TAPgkuxFEB6IrIutPFJZOpUIK/SX1klCRwH3XuvkJWrOowrMqbqo0LQxe/rZhb2coFy/x1eK4t1ETDNDbE5TslL6djWwsojdfC/oFVJgVFSYBys6hiohKHq6OV2ZI0RYHZwfD+yj7Lk3oPJA5fdqGqPMyweJDsAOP4hSmuMP1jxSehE6YKY9BJIBXyhXyiyzZhS1Jku7gV4onpy4hlm5hS5DRxKE5BxcIjU4kzAnMSAxUHV0wVzmkRpaMsxVdWTiLTKRznIB6IfeXy2ci2Ws6LDSXyFsexC8MYxQFcY+hRH9V3sCkzSkkfl3KG3a4Me+Y7aJqT6iIF/8jPNhE2RUpZXBZIm9lvG6g6qew/tAYWJhbmi92LV3Gzheb0FUe2ZjtwKyHCf0Ilc7cUqgh6Cf2Dd3harE1OCTj4X0CHr/SqRKd586oa5KQCL4wg/wA4WvtpoKznTAAAAABJRU5ErkJggg==) 12 12, auto",t.backgroundColor="#ffffff",t.selection=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}});var e=this;this.canvas.controlsAboveOverlay=!1,this.canvas.skipOffscreen=!0,this.canvas.preserveObjectStacking=!0,this.canvas.on("selection:created",function(t){e.$emit("selection:created",t)}),this.canvas.on("mouse:down",function(t){e.$emit("mouse:down",t)}),this.canvas.on("mouse:up",function(t){e.$emit("mouse:up",t)}),this.canvas.on("mouse:move",function(t){e.$emit("mouse:move",t)}),this.canvas.on("mouse:dblclick",function(t){e.$emit("mouse:dblclick",t)}),this.canvas.on("mouse:over",function(t){e.$emit("mouse:over",t)}),this.canvas.on("mouse:out",function(t){e.$emit("mouse:out",t)}),this.canvas.on("object:added",function(t){e.$emit("object:added",t)}),this.canvas.on("object:removed",function(t){e.$emit("object:removed",t)}),this.canvas.on("object:moved",function(t){e.$emit("object:moved",t)}),this.canvas.on("object:modified",function(t){e.$emit("object:modified",t)}),this.canvas.on("object:rotating",function(t){e.$emit("object:rotating",t)}),this.canvas.on("object:scaling",function(t){e.$emit("object:scaling",t)}),this.canvas.on("object:scaled",function(t){e.$emit("object:scaled",t)}),this.canvas.on("object:selected",function(t){e.$emit("object:selected",t)}),this.canvas.on("object:moving",function(t){e.$emit("object:moving",t)}),this.canvas.on("selection:updated",function(t){e.$emit("selection:updated",t)}),this.canvas.on("selection:changed",function(t){e.$emit("selection:changed",t)}),this.canvas.on("selection:cleared",function(t){e.$emit("selection:cleared",t)}),this.canvas.on("before:selection:cleared",function(t){e.$emit("before:selection:cleared",t)}),this.canvas.on("text:changed",function(t){e.$emit("text:changed",t)}),this.canvas.on("text:editing:entered",function(t){e.$emit("text:editing:entered",t)}),this.canvas.on("before:render"),this.canvas.on("after:render"),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),Object(a.a)(t)},methods:{setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject();if(t._objects){this.canvas.discardActiveObject();for(var e in t._objects)this.canvas.remove(t._objects[e])}else this.canvas.remove(t);this.canvas.renderAll()},removecurrentObj:function(){var t=this.canvas.getActiveObject();this.canvas.remove(t)},removeObj:function(t){this.canvas.remove(t)},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){this.canvas.setZoom(t),this.canvas.renderAll()},setbackground:function(t){this.canvas.backgroundColor=t,this.canvas.renderAll()},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.discardActiveGroup(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},createRect:function(t){t=c()({width:50,height:30,left:50,top:50,padding:0,angle:0,scaleX:1,scaleY:1},t);var e=new fabric.Rect(r()({},t,{isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fillColor?t.fillColor:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"rgba(0,0,0,0)",stroke:t.bordersColor?t.bordersColor:"rgba(0,0,0,0)",strokeWidth:t.bordersWidth?t.bordersWidth:0,strokeDashArray:t.bordersStyle?t.bordersStyle:[0,0],borderDashArray:[8,2],borderColor:"#999",cornerColor:"#999",cornerStrokeColor:"#999",cornerFillColor:"#eee",minScaleLimit:1e-4,lockScalingFlip:!0,flipX:!1,flipY:!1,originX:"left",originY:"top",centeredRotation:!1,stopContextMenu:!0}));return this.canvas.add(e),this.canvas.renderAll(),e},createCircle:function(t){t=c()({left:0,top:0,radius:30,fillColor:"rgba(255, 255, 255, 0)",color:"#B2B2B2",drawWidth:2},t);var e=r()({},t,{fill:t.fillColor,strokeWidth:t.drawWidth,stroke:t.color}),n=new fabric.Circle(e);this.canvas.add(n),this.canvas.renderAll()},createText:function(t,e){e=c()({left:100,top:100},e);var n=new fabric.Text(t,r()({},e));this.canvas.add(n),this.canvas.renderAll()}}}},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){var o=n(2),r=n(1),i=n(22),c=n(24),a=n(9),s=function(t,e,n){var u,f,l,v=t&s.F,d=t&s.G,h=t&s.S,p=t&s.P,b=t&s.B,m=t&s.W,g=d?r:r[e]||(r[e]={}),y=g.prototype,x=d?o:h?o[e]:(o[e]||{}).prototype;d&&(n=e);for(u in n)(f=!v&&x&&void 0!==x[u])&&a(g,u)||(l=f?x[u]:n[u],g[u]=d&&"function"!=typeof x[u]?n[u]:b&&f?i(l,o):m&&x[u]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):p&&"function"==typeof l?i(Function.call,l):l,p&&((g.virtual||(g.virtual={}))[u]=l,t&s.R&&y&&!y[u]&&c(y,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var o=n(25),r=n(26),i=n(28),c=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(11),r=n(12);t.exports=function(t){return o(r(t))}},function(t,e,n){var o=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(15);n.d(e,"Fabric",function(){return o.a})},function(t,e,n){"use strict";var o=n(16),r={install:function(t){t.component(o.a.name,o.a)}};e.a=r},function(t,e,n){"use strict";function o(t){n(17)}var r=n(5),i=n(52),c=n(18),a=o,s=c(r.a,i.a,!1,a,"data-v-5bfa3471",null);e.a=s.exports},function(t,e){},function(t,e){t.exports=function(t,e,n,o,r,i){var c,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(c=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r);var f;if(i?(f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=f):o&&(f=o),f){var l=u.functional,v=l?u.render:u.beforeCreate;l?(u._injectStyles=f,u.render=function(t,e){return f.call(e),v(t,e)}):u.beforeCreate=v?[].concat(v,f):[f]}return{esModule:c,exports:a,options:u}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(6),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e,n){n(21),t.exports=n(1).Object.assign},function(t,e,n){var o=n(7);o(o.S+o.F,"Object",{assign:n(30)})},function(t,e,n){var o=n(23);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(8),r=n(29);t.exports=n(0)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(3);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(0)&&!n(4)(function(){return 7!=Object.defineProperty(n(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(3),r=n(2).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var o=n(3);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(42),c=n(43),a=n(44),s=n(11),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,f=1,l=i.f,v=c.f;u>f;)for(var d,h=s(arguments[f++]),p=l?r(h).concat(l(h)):r(h),b=p.length,m=0;b>m;)d=p[m++],o&&!v.call(h,d)||(n[d]=h[d]);return n}:u},function(t,e,n){var o=n(32),r=n(41);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){var o=n(9),r=n(10),i=n(34)(!1),c=n(37)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),s=0,u=[];for(n in a)n!=c&&o(a,n)&&u.push(n);for(;e.length>s;)o(a,n=e[s++])&&(~i(u,n)||u.push(n));return u}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(10),r=n(35),i=n(36);t.exports=function(t){return function(e,n,c){var a,s=o(e),u=r(s.length),f=i(c,u);if(t&&n!=n){for(;u>f;)if((a=s[f++])!=a)return!0}else for(;u>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var o=n(13),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(13),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){var o=n(38)("keys"),r=n(40);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(1),r=n(2),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(39)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(12);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(46),r=n.n(o),i=n(47),c=n.n(i),a=function(){function t(){r()(this,t)}return c()(t,[{key:"registeObjectEvent",value:function(t,e){console.log("registeObjectEvent"),e.on("mousedown",function(n){t.$emit("object:mousedown",e,n)}),e.on("mouseup",function(n){t.$emit("object:mouseup",e,n)}),e.on("mousemove",function(n){t.$emit("object:mousemove",e,n)}),e.on("mouseover",function(n){t.$emit("object:mouseover",e,n)}),e.on("mouseout",function(n){t.$emit("object:mouseout",e,n)}),e.on("mousedblclick",function(n){t.$emit("object:mousedblclick",e,n)}),e.on("mousewheel",function(n){t.$emit("object:mousewheel",e,n)})}}]),t}();new a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(48),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){t.exports={default:n(49),__esModule:!0}},function(t,e,n){n(50);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(7);o(o.S+o.F*!n(0),"Object",{defineProperty:n(8).f})},function(t,e,n){"use strict";function o(t){function e(t){o(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}function n(t){o(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}function o(t,e,n,o){c.save(),c.lineWidth=s,c.strokeStyle=u,c.setLineDash([5,1]),c.beginPath(),c.moveTo((t+i[4])*f,(e+i[5])*f),c.lineTo((n+i[4])*f,(o+i[5])*f),c.stroke(),c.restore()}function r(t,e){t=Math.round(t),e=Math.round(e);for(var n=t-a,o=t+a;n<=o;n++)if(n===e)return!0;return!1}var i,c=t.getSelectionContext(),a=5,s=1,u="rgb(0,0,0,0.6)",f=1,l=[],v=[];t.on("mouse:down",function(){i=t.viewportTransform,f=t.getZoom()}),t.on("object:moving",function(e){var n=e.target,o=t.getObjects(),c=n.getCenterPoint(),a=c.x,s=c.y,u=n.getBoundingRect(),f=u.height/i[3],d=u.width/i[0],h=!1,p=!1;if(t._currentTransform){for(var b=o.length;b--;)if(o[b]!==n){var m=o[b].getCenterPoint(),g=m.x,y=m.y,x=o[b].getBoundingRect(),j=x.height/i[3],A=x.width/i[0];r(g,a)&&(p=!0,l.push({x:g,y1:y<s?y-j/2-5:y+j/2+5,y2:s>y?s+f/2+5:s-f/2-5}),n.setPositionByOrigin(new fabric.Point(g,s),"center","center")),r(g-A/2,a-d/2)&&(p=!0,l.push({x:g-A/2,y1:y<s?y-j/2-5:y+j/2+5,y2:s>y?s+f/2+5:s-f/2-5}),n.setPositionByOrigin(new fabric.Point(g-A/2+d/2,s),"center","center")),r(g+A/2,a+d/2)&&(p=!0,l.push({x:g+A/2,y1:y<s?y-j/2-5:y+j/2+5,y2:s>y?s+f/2+5:s-f/2-5}),n.setPositionByOrigin(new fabric.Point(g+A/2-d/2,s),"center","center")),r(y,s)&&(h=!0,v.push({y:y,x1:g<a?g-A/2-5:g+A/2+5,x2:a>g?a+d/2+5:a-d/2-5}),n.setPositionByOrigin(new fabric.Point(a,y),"center","center")),r(y-j/2,s-f/2)&&(h=!0,v.push({y:y-j/2,x1:g<a?g-A/2-5:g+A/2+5,x2:a>g?a+d/2+5:a-d/2-5}),n.setPositionByOrigin(new fabric.Point(a,y-j/2+f/2),"center","center")),r(y+j/2,s+f/2)&&(h=!0,v.push({y:y+j/2,x1:g<a?g-A/2-5:g+A/2+5,x2:a>g?a+d/2+5:a-d/2-5}),n.setPositionByOrigin(new fabric.Point(a,y+j/2-f/2),"center","center"))}h||(v.length=0),p||(l.length=0)}}),t.on("before:render",function(){void 0!==t._target&&t.clearContext(t.contextTop)}),t.on("after:render",function(){for(var t=l.length;t--;)e(l[t]);for(var t=v.length;t--;)n(v[t]);l.length=v.length=0}),t.on("mouse:up",function(){l.length=v.length=0,t.renderAll()})}e.a=o},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.name)+":"+t._s(t.width)+"*"+t._s(t.height))]),t._v(" "),n("div",{attrs:{id:"drawRule"}}),t._v(" "),n("canvas",{attrs:{id:"canvas",width:t.width,height:t.height}})])},r=[],i={render:o,staticRenderFns:r};e.a=i}])});